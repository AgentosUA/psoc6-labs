ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.syntax unified
  16              		.file	"CapSense_Centroid_LL.c"
  17              		.text
  18              	.Ltext0:
  19              		.cfi_sections	.debug_frame
  20              		.section	.text.CapSense_DpFindLocalMaxSd,"ax",%progbits
  21              		.align	2
  22              		.global	CapSense_DpFindLocalMaxSd
  23              		.thumb
  24              		.thumb_func
  25              		.type	CapSense_DpFindLocalMaxSd, %function
  26              	CapSense_DpFindLocalMaxSd:
  27              	.LFB125:
  28              		.file 1 "Generated_Source\\PSoC6\\CapSense_Centroid_LL.c"
   1:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /***************************************************************************//**
   2:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \file CapSense_Centroid_LL.c
   3:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \version 2.0
   4:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
   5:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
   6:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   This file provides the source code for the centroid calculation methods
   7:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   of the Component.
   8:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
   9:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \see CapSense v2.0 Datasheet
  10:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
  11:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *//*****************************************************************************
  12:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Copyright (2016-2017), Cypress Semiconductor Corporation.
  13:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ********************************************************************************
  14:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * This software is owned by Cypress Semiconductor Corporation (Cypress) and is
  15:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * protected by and subject to worldwide patent protection (United States and
  16:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * foreign), United States copyright laws and international treaty provisions.
  17:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Cypress hereby grants to licensee a personal, non-exclusive, non-transferable
  18:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * license to copy, use, modify, create derivative works of, and compile the
  19:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Cypress Source Code and derivative works for the sole purpose of creating
  20:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * custom software in support of licensee product to be used only in conjunction
  21:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * with a Cypress integrated circuit as specified in the applicable agreement.
  22:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Any reproduction, modification, translation, compilation, or representation of
  23:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * this software except as specified above is prohibited without the express
  24:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * written permission of Cypress.
  25:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
  26:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Disclaimer: CYPRESS MAKES NO WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, WITH
  27:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * REGARD TO THIS MATERIAL, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
  28:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
  29:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Cypress reserves the right to make changes without further notice to the
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 2


  30:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * materials described herein. Cypress does not assume any liability arising out
  31:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * of the application or use of any product or circuit described herein. Cypress
  32:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * does not authorize its products for use as critical components in life-support
  33:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * systems where a malfunction or failure may reasonably be expected to result in
  34:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * significant injury to the user. The inclusion of Cypress' product in a life-
  35:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * support systems application implies that the manufacturer assumes all risk of
  36:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * such use and in doing so indemnifies Cypress against all charges. Use may be
  37:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * limited by and subject to the applicable Cypress software license agreement.
  38:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
  39:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  40:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include <string.h>
  41:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "stddef.h"
  42:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "syslib/cy_syslib.h"
  43:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "CapSense_Centroid_LL.h"
  44:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "CapSense_Configuration.h"
  45:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "CapSense_Structure.h"
  46:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #include "CapSense_Filter.h"
  47:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  48:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
  49:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Local definition
  50:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
  51:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if CapSense_CSX_TOUCHPAD_WIDGET_EN
  52:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_BUFFER_SIZE \
  53:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (((CapSense_CSX_MAX_LOCAL_PEAKS + 3u) * sizeof(int8)) +                                
  54:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int32)) + /* dist
  55:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int32)) +                                       
  56:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)) +                                        
  57:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)) +                                        
  58:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             (CapSense_CSX_MAX_LOCAL_PEAKS * sizeof(int8)))                                         
  59:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  60:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_FT_ON_FAIL                (0x81u)
  61:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID           (0x82u)
  62:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_DEBOUNCE_ENABLE           (0u)
  63:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID              (0u)
  64:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID              (CapSense_CSX_MAX_LOCAL_PEAKS - 1u)
  65:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_INT32                     (0x7FFFFFFFu)
  66:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_TOUCH_DOWN                (0x80u)
  67:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_LIFT_OFF                  (0x40u)
  68:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK             (0x3Fu)
  69:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_POSITION_NONE             (0xFFFFu)
  70:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_Z_SHIFT                   (0x04u)
  71:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_PADDING                   (3Lu)
  72:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_LENGTH           (3u)
  73:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_PREVIOUS         (0u)
  74:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_CENTER           (1u)
  75:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #define CapSense_CSX_TOUCHPAD_CENTROID_NEXT             (2u)
  76:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  77:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* CapSense_CSX_TOUCHPAD_WIDGET_EN */
  78:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  79:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
  80:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Static variables definition
  81:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
  82:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
  83:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN))
  84:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint8 localMax[CapSense_NUM_CENTROIDS];
  85:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static CapSense_THRESHOLD_TYPE localDiffArray[CapSense_NUM_CENTROIDS][3u];
  86:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint8 localMaxIndex;
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 3


  87:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif
  88:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  89:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ( 0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN)
  90:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static CapSense_CSX_TOUCHPAD_DATA_STRUCT newTouches;
  91:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrNewTouches = &newTouches;
  92:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint8 newActiveIDs = 0u;
  93:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint8 oldActiveIDs = 0u;
  94:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  95:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     typedef int32 CapSense_CSX_TOUCHPAD_DISTANCE_MAP[CapSense_CSX_MAX_LOCAL_PEAKS];
  96:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* ( 0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN) */
  97:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
  98:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
  99:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * API Prototypes
 100:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 101:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
 102:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****       (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN)) && \
 103:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****       (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN))
 104:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_SaveLocalMax(CapSense_RAM_SNS_STRUCT ptrSns[],
 105:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                   uint32 snsCount, uint32 fingerThreshold, uint32 s
 106:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif
 107:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 108:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN)
 109:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_TransferTouch(uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DATA
 110:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_NewTouch(uint32 newIndex, uint8 onDebounce, uint16 fingerOnThreshold);
 111:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     __STATIC_INLINE uint8 CapSense_GetLowestId(uint16 idMask);
 112:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static uint32 CapSense_CalcDistance(uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DAT
 113:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_Hungarian(uint8 rowCount, uint8 colCount, int8 *fingerPosIndex,
 114:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                            CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap);
 115:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_FillDistanceMap(CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap,
 116:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                  CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches);
 117:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     __STATIC_INLINE void CapSense_TouchDownDebounce(void);
 118:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     __STATIC_INLINE void CapSense_SortByAge(void);
 119:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static void CapSense_CopyTouchRecord(CapSense_CSX_TOUCHPAD_PEAK_STRUCT *destination,
 120:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                            CapSense_CSX_TOUCHPAD_PEAK_STRUCT *sourc
 121:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (0u != CapSense_OFF_DEBOUNCE_EN)
 122:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     __STATIC_INLINE void CapSense_LiftOffDebounce(uint8 offDebounce,
 123:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                            CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOl
 124:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_OFF_DEBOUNCE_EN) */
 125:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* (0u !=CapSense_CSX_TOUCHPAD_WIDGET_EN) */
 126:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 127:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
 128:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN))
 129:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN)
 130:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 131:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxSd4pts
 132:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 133:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 134:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 135:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences and prepares array with maximum difference
 136:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and it's neighbour differences in Legacy mode (only one touch can be found).
 137:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maxima in the widget differences and prepares arrays with maxima difference
 138:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and theirs neighbour differences in Multi-Touch mode (maximum three touches can be found).
 139:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   This API is used in conjunction with CapSense_DpCalcLinearCentroid or
 140:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   CapSense__DpCalcRadialCentroid, because they use shared static data: localMax[],
 141:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   localDiffArray[][3u], localMaxIndex.
 142:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 143:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 4


 144:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 145:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 146:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 147:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The used finding method checks for 4 points : current, next, previous and before previous
 148:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   sensor's position. Depends on these points differences it chooses the previous or before
 149:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   previous position. For radial sliders an closed character of a widget is taken into the account
 150:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 151:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt
 152:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The pointer to the the widget flash structure.
 153:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 154:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrSns
 155:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The pointer to the the first sensor.
 156:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 157:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount
 158:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The total sensor number in the widget.
 159:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 160:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerThreshold
 161:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The finger threshold in the widget.
 162:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 163:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 164:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 165:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 166:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxSd4pts(CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt,
 167:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                               CapSense_RAM_SNS_STRUCT ptrSns[],
 168:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                               uint32 snsCount, uint32 fingerThreshold)
 169:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 170:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 171:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *localPtrSns = ptrSns;
 172:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
 173:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 slope0 = 0;
 174:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 slope1 = (int32)localPtrSns[0].diff;
 175:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 slope2 = 0;
 176:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 slopeLast = -(int32)localPtrSns[snsCount - 1u].diff;
 177:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 178:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (0u != CapSense_TOTAL_RADIAL_SLIDERS)
 179:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((CapSense_WD_TYPE_ENUM)ptrFlashWdgt->wdgtType == CapSense_WD_RADIAL_SLIDER_E)
 180:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 181:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slope1 = (int32)localPtrSns[0].diff - (int32)localPtrSns[snsCount - 1u].diff;
 182:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slope2 = (int32)localPtrSns[snsCount - 1u].diff - (int32)localPtrSns[snsCount - 2u].dif
 183:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slopeLast = slope1;
 184:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 185:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #else
 186:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Typecast the parameter to avoid a compiler warning */
 187:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         (void) ptrFlashWdgt;
 188:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif
 189:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 190:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Search local maxima for sensorId from 0 to snsCount - 1 */
 191:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0uL; i < snsCount; i++ )
 192:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 193:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Check for the last sensor */
 194:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((snsCount - 1uL) == i)
 195:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 196:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slope0 = slopeLast;
 197:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 198:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 199:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 200:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             slope0 = (int32)localPtrSns[i + 1u].diff - (int32)localPtrSns[i].diff;
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 5


 201:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 202:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 203:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if(0 > slope0)
 204:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 205:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if(0 < slope1)
 206:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 207:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, i);
 208:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 209:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
 210:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 211:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if(0 == slope1)
 212:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 213:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if(0 == slope2)
 214:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 215:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, (i - 1uL));
 216:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 217:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     else
 218:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 219:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if (0 < slope2)
 220:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
 221:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             if (slope2 > (-slope0))
 222:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             {
 223:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, i);
 224:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             }
 225:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             else
 226:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             {
 227:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                 CapSense_SaveLocalMax(ptrSns, snsCount, fingerThreshold, (i - 1uL))
 228:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             }
 229:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
 230:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 231:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 232:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 233:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (localMaxIndex >= CapSense_NUM_CENTROIDS)
 234:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 235:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 break;
 236:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 237:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 238:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         slope2 = slope1;
 239:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         slope1 = slope0;
 240:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 241:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 242:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 243:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 244:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 245:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 246:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_SaveLocalMax
 247:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 248:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 249:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 250:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Stores a found local maximum in the arrays.
 251:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 252:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 253:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Stores a found local maximum in the localMax array if the difference is greater
 254:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   than a finger threshold. Prepares arrays with maximum neighbour differences for
 255:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   position calculations.
 256:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 257:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param *ptrSns
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 6


 258:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   A pointer to sensor RAM structure of a found local maximum.
 259:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 260:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount
 261:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The total sensor number in the widget.
 262:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 263:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerThreshold
 264:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   A fingerThreshold to compare with a sensor difference.
 265:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 266:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsIndex
 267:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   An index of a sensor with a found local maximum.
 268:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 269:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 270:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_SaveLocalMax(CapSense_RAM_SNS_STRUCT ptrSns[],
 271:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                     uint32 snsCount, uint32 fingerThreshold, uint32
 272:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 273:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_THRESHOLD_TYPE currentDiff = ptrSns[snsIndex].diff;
 274:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 275:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (currentDiff > fingerThreshold)
 276:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 277:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Store found Peak */
 278:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         localMax[localMaxIndex] = (uint8)snsIndex;
 279:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         localDiffArray[localMaxIndex][CapSense_CENTROID_POS] = currentDiff;
 280:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 281:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Store neighbour differences */
 282:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (snsIndex == 0u)
 283:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 284:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsCount - 1u].diff;
 285:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[snsIndex + 1u].diff;
 286:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 287:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else if (snsIndex == (snsCount - 1u))
 288:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 289:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsIndex - 1u].diff;
 290:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[0u].diff;
 291:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 292:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 293:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 294:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_PREV] = ptrSns[snsIndex - 1u].diff;
 295:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[localMaxIndex][CapSense_CENTROID_POS_NEXT] = ptrSns[snsIndex + 1u].diff;
 296:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 297:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 298:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         localMaxIndex++;
 299:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 300:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 301:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #else /* (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN) */
 302:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 303:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 304:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxSd
 305:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 306:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 307:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 308:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences and prepares array with maximum difference
 309:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and it's neighbour differences in Legacy mode (only one touch can be found).
 310:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maxima in the widget differences and prepares arrays with maxima difference
 311:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and theirs neighbour differences in Multi-Touch mode (maximum three touches can be found).
 312:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   This API is used in conjunction with CapSense_DpCalcLinearCentroid or
 313:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   CapSense__DpCalcRadialCentroid, because they use shared static data: localMax[],
 314:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   localDiffArray[][3u], localMaxIndex.
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 7


 315:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 316:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 317:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 318:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 319:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 320:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 321:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrSns The pointer to the first sensor.
 322:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 323:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerThreshold The finger threshold in the widget.
 324:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 325:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 326:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 327:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 328:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxSd(CapSense_RAM_SNS_STRUCT ptrSns[], uint32 snsCount,
 329:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                                                    uint32 fingerThr
 330:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
  29              		.loc 1 330 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  35              		.cfi_def_cfa_offset 20
  36              		.cfi_offset 4, -20
  37              		.cfi_offset 5, -16
  38              		.cfi_offset 6, -12
  39              		.cfi_offset 7, -8
  40              		.cfi_offset 14, -4
  41              	.LVL1:
 331:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 332:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 sensorId;
 333:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 334:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (CapSense_NUM_CENTROIDS == 0x01u)
 335:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         CapSense_RAM_SNS_STRUCT *localPtrSns = ptrSns;
 336:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         CapSense_THRESHOLD_TYPE temp = 0u;
 337:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif
 338:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 339:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
  42              		.loc 1 339 0
  43 0002 0023     		movs	r3, #0
  44 0004 334C     		ldr	r4, .L13
  45 0006 2370     		strb	r3, [r4]
  46              	.LVL2:
 335:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         CapSense_THRESHOLD_TYPE temp = 0u;
  47              		.loc 1 335 0
  48 0008 0446     		mov	r4, r0
 336:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif
  49              		.loc 1 336 0
  50 000a 1E46     		mov	r6, r3
 340:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 341:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (CapSense_NUM_CENTROIDS == 0x01u)
 342:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (sensorId = 0u; sensorId < snsCount; sensorId++)
  51              		.loc 1 342 0
  52 000c 0BE0     		b	.L2
  53              	.LVL3:
  54              	.L4:
 343:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 8


 344:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((localPtrSns->diff > fingerThreshold) && (localPtrSns->diff > temp))
  55              		.loc 1 344 0
  56 000e E588     		ldrh	r5, [r4, #6]
  57 0010 9542     		cmp	r5, r2
  58 0012 06D9     		bls	.L3
  59              		.loc 1 344 0 is_stmt 0 discriminator 1
  60 0014 AE42     		cmp	r6, r5
  61 0016 04D2     		bcs	.L3
 345:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 346:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localMax[0u] = CY_LO8(sensorId);
  62              		.loc 1 346 0 is_stmt 1
  63 0018 2E4E     		ldr	r6, .L13
  64              	.LVL4:
  65 001a 3371     		strb	r3, [r6, #4]
  66              	.LVL5:
 347:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 temp = localPtrSns->diff;
 348:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localMaxIndex = 1u;
  67              		.loc 1 348 0
  68 001c 0127     		movs	r7, #1
  69 001e 3770     		strb	r7, [r6]
 347:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 temp = localPtrSns->diff;
  70              		.loc 1 347 0
  71 0020 2E46     		mov	r6, r5
  72              	.LVL6:
  73              	.L3:
 349:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 350:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localPtrSns++;
  74              		.loc 1 350 0 discriminator 2
  75 0022 0A34     		adds	r4, r4, #10
  76              	.LVL7:
 342:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
  77              		.loc 1 342 0 discriminator 2
  78 0024 0133     		adds	r3, r3, #1
  79              	.LVL8:
  80              	.L2:
 342:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
  81              		.loc 1 342 0 is_stmt 0 discriminator 1
  82 0026 8B42     		cmp	r3, r1
  83 0028 F1D3     		bcc	.L4
 351:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 352:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #else /* (CapSense_NUM_CENTROIDS == 0x01u) */
 353:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 354:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((ptrSns[0u].diff > fingerThreshold) && (ptrSns[0u].diff >= ptrSns[1u].diff))
 355:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 356:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localMax[localMaxIndex] = 0u;
 357:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localMaxIndex = 1u;
 358:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 359:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 360:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((ptrSns[snsCount - 1u].diff > fingerThreshold) && (ptrSns[snsCount - 1u].diff > ptrSns[
 361:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 362:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localMax[localMaxIndex] = (uint8)(snsCount - 1u);
 363:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localMaxIndex++;
 364:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 365:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 366:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (CapSense_NUM_CENTROIDS == 0x02u)
 367:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (localMaxIndex < CapSense_NUM_CENTROIDS)
 368:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 9


 369:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* (CapSense_NUM_CENTROIDS == 0x02u) */
 370:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 for (sensorId = 1u; sensorId < (snsCount - 1u); sensorId++)
 371:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 372:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((ptrSns[sensorId].diff > fingerThreshold) && (ptrSns[sensorId].diff >= ptrS
 373:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 374:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if (ptrSns[sensorId].diff > ptrSns[sensorId - 1u].diff)
 375:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
 376:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             localMax[localMaxIndex] = (uint8)sensorId;
 377:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             localMaxIndex++;
 378:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 379:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             if (localMaxIndex >= CapSense_NUM_CENTROIDS)
 380:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             {
 381:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                 break;
 382:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             }
 383:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
 384:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 385:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 386:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (CapSense_NUM_CENTROIDS == 0x02u)
 387:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 388:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* (CapSense_NUM_CENTROIDS == 0x02u) */
 389:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif /* #if (CapSense_NUM_CENTROIDS == 0x01u) */
 390:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 391:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (localMaxIndex != 0u)
  84              		.loc 1 391 0 is_stmt 1
  85 002a 2A4B     		ldr	r3, .L13
  86              	.LVL9:
  87 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  88 002e 002B     		cmp	r3, #0
  89 0030 47D1     		bne	.L11
  90 0032 4BE0     		b	.L6
  91              	.LVL10:
  92              	.L10:
 392:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 393:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Prepare single-dimension centroid calculation array */
 394:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < localMaxIndex; i++)
 395:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 396:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              localDiffArray[i][CapSense_CENTROID_POS] = ptrSns[localMax[i]].diff;
  93              		.loc 1 396 0
  94 0034 274E     		ldr	r6, .L13
  95 0036 B318     		adds	r3, r6, r2
  96 0038 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
  97 003a 03EB8305 		add	r5, r3, r3, lsl #2
  98 003e 6C00     		lsls	r4, r5, #1
  99 0040 0519     		adds	r5, r0, r4
 100 0042 B5F806E0 		ldrh	lr, [r5, #6]
 101 0046 02EB4207 		add	r7, r2, r2, lsl #1
 102 004a 7D00     		lsls	r5, r7, #1
 103 004c 3544     		add	r5, r5, r6
 104 004e A5F80AE0 		strh	lr, [r5, #10]	@ movhi
 397:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 398:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (localMax[i] == 0u)
 105              		.loc 1 398 0
 106 0052 9BB9     		cbnz	r3, .L7
 399:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 400:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[snsCount - 1u].diff;
 107              		.loc 1 400 0
 108 0054 01EB8105 		add	r5, r1, r1, lsl #2
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 10


 109 0058 6C00     		lsls	r4, r5, #1
 110 005a 0A3C     		subs	r4, r4, #10
 111 005c 0444     		add	r4, r4, r0
 112 005e E688     		ldrh	r6, [r4, #6]
 113 0060 5500     		lsls	r5, r2, #1
 114 0062 1544     		add	r5, r5, r2
 115 0064 6C00     		lsls	r4, r5, #1
 116 0066 1B4D     		ldr	r5, .L13
 117 0068 2C44     		add	r4, r4, r5
 118 006a 2681     		strh	r6, [r4, #8]	@ movhi
 401:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[i] + 1u].diff;
 119              		.loc 1 401 0
 120 006c 0133     		adds	r3, r3, #1
 121 006e 03EB8303 		add	r3, r3, r3, lsl #2
 122 0072 5D00     		lsls	r5, r3, #1
 123 0074 0544     		add	r5, r5, r0
 124 0076 EB88     		ldrh	r3, [r5, #6]
 125 0078 A381     		strh	r3, [r4, #12]	@ movhi
 126 007a 20E0     		b	.L8
 127              	.L7:
 402:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 403:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else if (localMax[i] == ((uint8)(snsCount - 1u)))
 128              		.loc 1 403 0
 129 007c 4D1E     		subs	r5, r1, #1
 130 007e EDB2     		uxtb	r5, r5
 131 0080 AB42     		cmp	r3, r5
 132 0082 0CD1     		bne	.L9
 404:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 405:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[localMax[i] - 1u].diff;
 133              		.loc 1 405 0
 134 0084 A4F10A03 		sub	r3, r4, #10
 135 0088 0344     		add	r3, r3, r0
 136 008a DD88     		ldrh	r5, [r3, #6]
 137 008c 5400     		lsls	r4, r2, #1
 138 008e 1444     		add	r4, r4, r2
 139 0090 6300     		lsls	r3, r4, #1
 140 0092 104C     		ldr	r4, .L13
 141 0094 2344     		add	r3, r3, r4
 142 0096 1D81     		strh	r5, [r3, #8]	@ movhi
 406:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[0u].diff;
 143              		.loc 1 406 0
 144 0098 C488     		ldrh	r4, [r0, #6]
 145 009a 9C81     		strh	r4, [r3, #12]	@ movhi
 146 009c 0FE0     		b	.L8
 147              	.L9:
 407:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 408:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
 409:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 410:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_PREV] = ptrSns[localMax[i] - 1u].diff;
 148              		.loc 1 410 0
 149 009e 0A3C     		subs	r4, r4, #10
 150 00a0 0444     		add	r4, r4, r0
 151 00a2 E688     		ldrh	r6, [r4, #6]
 152 00a4 5500     		lsls	r5, r2, #1
 153 00a6 1544     		add	r5, r5, r2
 154 00a8 6C00     		lsls	r4, r5, #1
 155 00aa 0A4D     		ldr	r5, .L13
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 11


 156 00ac 2C44     		add	r4, r4, r5
 157 00ae 2681     		strh	r6, [r4, #8]	@ movhi
 411:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[i] + 1u].diff;
 158              		.loc 1 411 0
 159 00b0 0133     		adds	r3, r3, #1
 160 00b2 03EB8303 		add	r3, r3, r3, lsl #2
 161 00b6 5D00     		lsls	r5, r3, #1
 162 00b8 0544     		add	r5, r5, r0
 163 00ba EB88     		ldrh	r3, [r5, #6]
 164 00bc A381     		strh	r3, [r4, #12]	@ movhi
 165              	.L8:
 394:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 166              		.loc 1 394 0 discriminator 2
 167 00be 0132     		adds	r2, r2, #1
 168              	.LVL11:
 169 00c0 00E0     		b	.L5
 170              	.LVL12:
 171              	.L11:
 172 00c2 0022     		movs	r2, #0
 173              	.LVL13:
 174              	.L5:
 394:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 175              		.loc 1 394 0 is_stmt 0 discriminator 1
 176 00c4 034B     		ldr	r3, .L13
 177 00c6 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 178 00c8 9A42     		cmp	r2, r3
 179 00ca B3D3     		bcc	.L10
 180              	.LVL14:
 181              	.L6:
 412:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 413:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 414:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 415:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Return status to check if at least one maximum has been found */
 416:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 417:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 182              		.loc 1 417 0 is_stmt 1
 183 00cc 014B     		ldr	r3, .L13
 184 00ce 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 185              	.LVL15:
 186 00d0 F0BD     		pop	{r4, r5, r6, r7, pc}
 187              	.L14:
 188 00d2 00BF     		.align	2
 189              	.L13:
 190 00d4 00000000 		.word	.LANCHOR0
 191              		.cfi_endproc
 192              	.LFE125:
 193              		.size	CapSense_DpFindLocalMaxSd, .-CapSense_DpFindLocalMaxSd
 194              		.section	.text.CapSense_DpCalcLinearCentroid,"ax",%progbits
 195              		.align	2
 196              		.global	CapSense_DpCalcLinearCentroid
 197              		.thumb
 198              		.thumb_func
 199              		.type	CapSense_DpCalcLinearCentroid, %function
 200              	CapSense_DpCalcLinearCentroid:
 201              	.LFB126:
 418:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* (CapSense_ENABLE == CapSense_4PTS_LOCAL_MAX_EN) */
 419:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* ((CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN) || \
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 12


 420:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****           (CapSense_ENABLE  == CapSense_SLIDER_WIDGET_EN)) */
 421:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 422:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if CapSense_TOTAL_DIPLEXED_SLIDERS
 423:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 424:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxDiplex
 425:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 426:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 427:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 428:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds the maximum in the widget differences. Used only for diplexed linear slider.
 429:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 430:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 431:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 432:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 433:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 434:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 435:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrSns The pointer to the first sensor.
 436:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 437:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param diplexTable The pointer to the diplex table.
 438:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerThreshold The finger threshold in the widget.
 439:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 440:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of maxima found.
 441:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 442:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 443:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpFindLocalMaxDiplex(
 444:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_RAM_SNS_STRUCT ptrSns[],
 445:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         uint32 snsCount,
 446:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         uint8 const diplexTable[],
 447:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         uint32 fingerThreshold)
 448:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 449:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 sensorId;
 450:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 diplexSensorId;
 451:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 452:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 biggestStartPos = 0u;
 453:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 biggestSize = 0u;
 454:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 curStartPos = 0u;
 455:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 curSize = 0u;
 456:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_THRESHOLD_TYPE temp = 0u;
 457:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 458:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     localMaxIndex = 0u;
 459:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 460:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (sensorId = 0u; sensorId < (snsCount << 1u); sensorId++)
 461:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 462:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         diplexSensorId = diplexTable[sensorId];
 463:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 464:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (ptrSns[diplexSensorId].diff > fingerThreshold)
 465:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 466:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (0u == curSize)
 467:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 468:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 curStartPos = sensorId;
 469:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 470:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 471:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             curSize++;
 472:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 473:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 474:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 475:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (curSize > biggestSize)
 476:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 13


 477:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 biggestSize = curSize;
 478:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 biggestStartPos = curStartPos;
 479:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 480:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             curSize = 0u;
 481:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 482:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 483:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 484:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (curSize > biggestSize)
 485:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 486:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         biggestSize = curSize;
 487:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         biggestStartPos = curStartPos;
 488:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 489:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 490:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (biggestSize >= CapSense_CENTROID_DIPLEX_SECTION_LENGTH)
 491:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 492:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (sensorId = biggestStartPos; sensorId < (biggestStartPos + biggestSize); sensorId++)
 493:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 494:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[sensorId];
 495:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 496:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (ptrSns[diplexSensorId].diff > temp)
 497:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 498:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localMax[0u] = CY_LO8(sensorId);
 499:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 temp = ptrSns[diplexSensorId].diff;
 500:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localMaxIndex = 1u;
 501:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 502:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 503:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 504:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Prepare single-dimension centroid calculation array */
 505:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (localMax[0u] == 0u)
 506:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 507:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = 0u;
 508:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[localMax[0u]].diff;
 509:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = ptrSns[localMax[0u] + 1u].diff;
 510:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 511:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 512:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else if (localMax[0u] == ((snsCount << 1u) - 1u))
 513:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 514:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] - 1u];
 515:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = ptrSns[diplexSensorId].diff;
 516:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u]];
 517:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[diplexSensorId].diff;
 518:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = 0u;
 519:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 520:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 521:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 522:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] - 1u];
 523:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_PREV] = ptrSns[diplexSensorId].diff;
 524:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u]];
 525:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS] = ptrSns[diplexSensorId].diff;
 526:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             diplexSensorId = diplexTable[localMax[0u] + 1u];
 527:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[0u][CapSense_CENTROID_POS_NEXT] = ptrSns[diplexSensorId].diff;
 528:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 529:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 530:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 531:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 532:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 533:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* #if CapSense_TOTAL_DIPLEXED_SLIDERS */
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 14


 534:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 535:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 536:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ((0u != CapSense_TOTAL_LINEAR_SLIDERS) || \
 537:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      (CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN))
 538:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 539:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcLinearCentroid
 540:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 541:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 542:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 543:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates the position of the linear slider.
 544:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 545:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 546:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 547:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 548:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 549:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 550:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param position
 551:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The pointer to the position array for temporary position storage.
 552:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 553:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param multiplier
 554:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The multiplier used for position calculation. Contains the widget resolution and total sensor
 555:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  information. It is generated by customizer.
 556:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 557:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount
 558:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The number of sensors in the linear slider. The doubled snsCount has to be passed
 559:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  if this API is called for diplexed slider.
 560:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 561:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param offset
 562:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The additional position offset as half of the multiplier.
 563:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 564:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of positions calculated.
 565:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 566:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 567:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpCalcLinearCentroid(uint16 position[], uint32 multiplier, uint32 snsCount, uint32 
 568:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 202              		.loc 1 568 0
 203              		.cfi_startproc
 204              		@ args = 0, pretend = 0, frame = 0
 205              		@ frame_needed = 0, uses_anonymous_args = 0
 206              	.LVL16:
 207 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 208              		.cfi_def_cfa_offset 24
 209              		.cfi_offset 4, -24
 210              		.cfi_offset 5, -20
 211              		.cfi_offset 6, -16
 212              		.cfi_offset 7, -12
 213              		.cfi_offset 8, -8
 214              		.cfi_offset 14, -4
 215              	.LVL17:
 569:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 numerator;
 570:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 denominator;
 571:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 572:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 573:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < localMaxIndex; i++)
 216              		.loc 1 573 0
 217 0004 0025     		movs	r5, #0
 218 0006 33E0     		b	.L16
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 15


 219              	.LVL18:
 220              	.L19:
 574:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 575:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /*
 576:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****          * The CapSense_DpFindLocalMaxSd API prepares the unified localDiffArray[][] for linear and
 577:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****          *  Therefore, the difference of the first and the last elements of linear slider are clear
 578:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****          */
 579:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 580:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (localMax[i] == 0u)
 221              		.loc 1 580 0
 222 0008 1D4C     		ldr	r4, .L21
 223 000a 2C44     		add	r4, r4, r5
 224 000c 2479     		ldrb	r4, [r4, #4]	@ zero_extendqisi2
 225 000e 3CB9     		cbnz	r4, .L17
 581:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 582:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             localDiffArray[i][CapSense_CENTROID_POS_PREV] = 0u;
 226              		.loc 1 582 0
 227 0010 05EB4507 		add	r7, r5, r5, lsl #1
 228 0014 7E00     		lsls	r6, r7, #1
 229 0016 1A4F     		ldr	r7, .L21
 230 0018 3E44     		add	r6, r6, r7
 231 001a 0027     		movs	r7, #0
 232 001c 3781     		strh	r7, [r6, #8]	@ movhi
 233 001e 09E0     		b	.L18
 234              	.L17:
 583:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 584:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
 585:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 586:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (localMax[i] == (snsCount - 1u))
 235              		.loc 1 586 0
 236 0020 561E     		subs	r6, r2, #1
 237 0022 B442     		cmp	r4, r6
 238 0024 06D1     		bne	.L18
 587:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 588:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 localDiffArray[i][CapSense_CENTROID_POS_NEXT] = 0u;
 239              		.loc 1 588 0
 240 0026 05EB4507 		add	r7, r5, r5, lsl #1
 241 002a 7E00     		lsls	r6, r7, #1
 242 002c 144F     		ldr	r7, .L21
 243 002e 3E44     		add	r6, r6, r7
 244 0030 0027     		movs	r7, #0
 245 0032 B781     		strh	r7, [r6, #12]	@ movhi
 246              	.L18:
 589:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 590:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 591:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 592:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Si+1 - Si-1 */
 593:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         numerator = (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT] -
 247              		.loc 1 593 0 discriminator 2
 248 0034 6F00     		lsls	r7, r5, #1
 249 0036 2F44     		add	r7, r7, r5
 250 0038 7E00     		lsls	r6, r7, #1
 251 003a 114F     		ldr	r7, .L21
 252 003c 3E44     		add	r6, r6, r7
 253 003e B6F80C80 		ldrh	r8, [r6, #12]
 594:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 254              		.loc 1 594 0 discriminator 2
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 16


 255 0042 B6F808E0 		ldrh	lr, [r6, #8]
 593:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 256              		.loc 1 593 0 discriminator 2
 257 0046 CEEB0807 		rsb	r7, lr, r8
 258              	.LVL19:
 595:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 596:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Si+1 + Si + Si-1 */
 597:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         denominator = (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV] +
 598:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 259              		.loc 1 598 0 discriminator 2
 260 004a B6F80AC0 		ldrh	ip, [r6, #10]
 597:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 261              		.loc 1 597 0 discriminator 2
 262 004e 0EEB0C06 		add	r6, lr, ip
 263 0052 08EB060E 		add	lr, r8, r6
 264              	.LVL20:
 599:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT];
 600:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 601:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         denominator = ((numerator * (int32)multiplier) / denominator) +
 265              		.loc 1 601 0 discriminator 2
 266 0056 01FB07F6 		mul	r6, r1, r7
 267 005a 96FBFEF6 		sdiv	r6, r6, lr
 602:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (((int32)localMax[i] * (int32)multiplier) + (int32)offset);
 268              		.loc 1 602 0 discriminator 2
 269 005e 04FB0134 		mla	r4, r4, r1, r3
 601:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (((int32)localMax[i] * (int32)multiplier) + (int32)offset);
 270              		.loc 1 601 0 discriminator 2
 271 0062 3444     		add	r4, r4, r6
 272              	.LVL21:
 603:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 604:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Round result and shift 8 bits left */
 605:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         position[i] = CY_LO16(((uint32)denominator + CapSense_CENTROID_ROUND_VALUE) >> 8u);
 273              		.loc 1 605 0 discriminator 2
 274 0064 7F34     		adds	r4, r4, #127
 275              	.LVL22:
 276 0066 C4F30F24 		ubfx	r4, r4, #8, #16
 277              	.LVL23:
 278 006a 20F81540 		strh	r4, [r0, r5, lsl #1]	@ movhi
 279              	.LVL24:
 573:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 280              		.loc 1 573 0 discriminator 2
 281 006e 0135     		adds	r5, r5, #1
 282              	.LVL25:
 283              	.L16:
 573:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 284              		.loc 1 573 0 is_stmt 0 discriminator 1
 285 0070 034C     		ldr	r4, .L21
 286 0072 2478     		ldrb	r4, [r4]	@ zero_extendqisi2
 287 0074 A542     		cmp	r5, r4
 288 0076 C7D3     		bcc	.L19
 606:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 607:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 608:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 289              		.loc 1 608 0 is_stmt 1
 290 0078 2046     		mov	r0, r4
 291              	.LVL26:
 292 007a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 17


 293              	.LVL27:
 294              	.L22:
 295 007e 00BF     		.align	2
 296              	.L21:
 297 0080 00000000 		.word	.LANCHOR0
 298              		.cfi_endproc
 299              	.LFE126:
 300              		.size	CapSense_DpCalcLinearCentroid, .-CapSense_DpCalcLinearCentroid
 301              		.section	.text.CapSense_InitPosFiltersSd,"ax",%progbits
 302              		.align	2
 303              		.global	CapSense_InitPosFiltersSd
 304              		.thumb
 305              		.thumb_func
 306              		.type	CapSense_InitPosFiltersSd, %function
 307              	CapSense_InitPosFiltersSd:
 308              	.LFB127:
 609:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* ((0u != CapSense_TOTAL_LINEAR_SLIDERS) || \
 610:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****           (CapSense_ENABLE == CapSense_CENTROID_3X3_CSD_EN)) */
 611:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 612:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 613:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if CapSense_TOTAL_RADIAL_SLIDERS
 614:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 615:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcRadialCentroid
 616:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 617:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 618:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 619:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates the position of the radial slider.
 620:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 621:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 622:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMax[] is used to store the index of the maximum/maxima.
 623:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localDiffArray[][] is used to store values of the maximum/maxima and neighbour differences.
 624:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The localMaxIndex is used to store the number of maxima have been actually found.
 625:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 626:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param *position The pointer to the position array for temporary storage.
 627:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param multiplier The multiplier used for position calculation.
 628:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                       Contains the widget resolution and total sensor information. It is generate
 629:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param snsCount The total sensor number in the widget.
 630:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 631:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the number of positions calculated.
 632:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 633:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 634:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpCalcRadialCentroid(uint16 position[], uint32 multiplier, uint32 snsCount)
 635:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 636:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 numerator;
 637:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 denominator;
 638:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 639:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 640:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < localMaxIndex; i++)
 641:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 642:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Si+1 - Si-1 */
 643:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         numerator = (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT] -
 644:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV];
 645:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 646:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Si+1 + Si + Si-1 */
 647:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         denominator = (int32) localDiffArray[i][CapSense_CENTROID_POS_PREV] +
 648:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS] +
 649:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (int32) localDiffArray[i][CapSense_CENTROID_POS_NEXT];
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 18


 650:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 651:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         denominator = ((numerator * (int32)multiplier) / denominator) +
 652:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        ((int32)localMax[i] * (int32)multiplier);
 653:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 654:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (denominator < 0)
 655:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 656:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             denominator += ((int32)snsCount * (int32)multiplier);
 657:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 658:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 659:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Round result and shift 8 bits left */
 660:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         position[i] = CY_LO16(((uint32)denominator + CapSense_CENTROID_ROUND_VALUE) >> 8u);
 661:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 662:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)(localMaxIndex);
 663:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 664:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* #if CapSense_TOTAL_RADIAL_SLIDERS */
 665:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 666:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 667:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if ( 0u != CapSense_CSX_TOUCHPAD_WIDGET_EN)
 668:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 669:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFindLocalMaxDd
 670:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 671:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 672:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 673:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Finds up to 5 local maxima in the CSX TouchPad difference data.
 674:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 675:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 676:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The column and row number of each maximum and total number of found maxima
 677:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  are stored in the structure pointed by ptr2CsxTouchpad in
 678:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  the Flash Widget Structure.
 679:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 680:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 681:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 682:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 683:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** void CapSense_DpFindLocalMaxDd(
 684:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 685:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 686:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
 687:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
 688:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint16 signalThreshold = (uint16)ptrWidgetRam->fingerTh - ptrWidgetRam->hysteresis;
 689:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint16 currDiff;
 690:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 rx;
 691:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 tx;
 692:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 snsShift;
 693:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 lastRx = ptrFlashWdgt->numCols - 1u;
 694:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 lastTx = ptrFlashWdgt->numRows - 1u;
 695:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 proceed = 0u;
 696:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 697:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Initialize new touches structure */
 698:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     ptrNewTouches->touchNum = 0u;
 699:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 700:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Go through all Rx electrodes */
 701:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (rx = 0u; rx <= lastRx; rx++)
 702:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 703:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Go through all Tx and RX(changed above) electrodes intersections and check if local maxi
 704:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (tx = 0u; tx <= lastTx; tx++)
 705:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 706:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             proceed = 0u;
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 19


 707:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 708:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             currDiff = ptrSensor->diff;
 709:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 710:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (currDiff < signalThreshold)
 711:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 712:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 proceed = 1u;
 713:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 714:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 715:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Check local maximum requirement: Comparing raw count of a local maximum candidate wi
 716:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * raw counts of sensors from the previous row */
 717:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (rx > 0u))
 718:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 719:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Sensor(i-1, j+1) */
 720:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 snsShift = lastTx;
 721:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 722:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if ((tx < lastTx) && (currDiff <= (ptrSensor - snsShift)->diff))
 723:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 724:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     proceed = 1u;
 725:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 726:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 727:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 728:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 729:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Sensor(i-1, j) */
 730:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     snsShift++;
 731:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 732:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (currDiff <= (ptrSensor - snsShift)->diff)
 733:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 734:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         proceed = 1u;
 735:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 736:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 737:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 738:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 739:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 740:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Sensor(i-1, j-1) */
 741:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     snsShift++;
 742:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 743:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((tx > 0u) && (currDiff <= (ptrSensor - snsShift)->diff))
 744:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 745:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         proceed = 1u;
 746:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 747:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 748:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 749:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 750:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Check local maximum requirement: Comparing raw count of a local maximum candidate wi
 751:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * raw counts of sensors from the next row */
 752:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (rx < lastRx))
 753:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 754:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Sensor(i+1, j+1) */
 755:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 snsShift = lastTx + 2u;
 756:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 757:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if ((tx < lastTx) && (currDiff < (ptrSensor + snsShift)->diff))
 758:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 759:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     proceed = 1u;
 760:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 761:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 762:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 763:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 20


 764:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Sensor(i+1, j) */
 765:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     snsShift--;
 766:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 767:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (currDiff < (ptrSensor + snsShift)->diff)
 768:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 769:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         proceed = 1u;
 770:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 771:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 772:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 773:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == proceed)
 774:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 775:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Sensor(i+1, j-1) */
 776:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     snsShift--;
 777:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 778:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((tx > 0u) && (currDiff < (ptrSensor + snsShift)->diff))
 779:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 780:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         proceed = 1u;
 781:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 782:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 783:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 784:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 785:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Check local maximum requirement: Comparing raw count of a local maximum candidate wi
 786:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * raw counts of sensors from the same row
 787:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * Sensor(i, j+1) */
 788:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (tx < lastTx))
 789:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 790:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (currDiff < (ptrSensor + 1u)->diff)
 791:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 792:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     proceed = 1u;
 793:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 794:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 795:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 796:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Sensor(i, j-1) */
 797:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (tx > 0u))
 798:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 799:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (currDiff <= (ptrSensor - 1u)->diff)
 800:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 801:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     proceed = 1u;
 802:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 803:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 804:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 805:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Add local maximum to the touch structure if there is a room */
 806:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((0u == proceed) && (ptrNewTouches->touchNum < CapSense_CSX_MAX_LOCAL_PEAKS))
 807:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 808:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].x = rx;
 809:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].y = tx;
 810:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 811:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = currDiff;
 812:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touchNum++;
 813:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 814:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 815:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrSensor++;
 816:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 817:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 818:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 819:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 820:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 21


 821:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 822:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpCalcTouchPadCentroid
 823:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 824:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 825:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 826:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates the position for each local maximum using the 3x3 algorithm.
 827:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 828:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 829:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  Stores a result in the structure pointed by ptr2CsxTouchpad at the same
 830:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  fields as the column/row number.
 831:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 832:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 833:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 834:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 835:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** void CapSense_DpCalcTouchPadCentroid(
 836:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 837:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 838:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_SNS_STRUCT *ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
 839:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 number;
 840:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 i;
 841:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 j;
 842:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 lastRx = ptrFlashWdgt->numCols - 1u;
 843:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 lastTx = ptrFlashWdgt->numRows - 1u;
 844:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint16 centroid[3u][3u];
 845:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 weightedSumX;
 846:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 weightedSumY;
 847:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 totalSum;
 848:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 849:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for(number = 0u; number < ptrNewTouches->touchNum; number++)
 850:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 851:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Set the sensor pointer to the local maximum sensor */
 852:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrSensor =  ptrFlashWdgt->ptr2SnsRam;
 853:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrSensor += (ptrNewTouches->touch[number].y + (ptrNewTouches->touch[number].x * ptrFlashWd
 854:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 855:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Prepare 3x3 centroid two dimensional array */
 856:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Fill each row */
 857:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; i++)
 858:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 859:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* The first  condition could be valid only when local max on the first row (0 row) of 
 860:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * The second condition could be valid only when local max on the last row of Touchpad
 861:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * Then corresponding row (zero or the last) of 3x3 array is initialized to 0u */
 862:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (((((int32)ptrNewTouches->touch[number].x - 1) + (int32)i) < 0) ||
 863:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ((((int32)ptrNewTouches->touch[number].x - 1) + (int32)i) > (int32)lastRx))
 864:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 865:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_PREVIOUS][i] = 0u;
 866:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_CENTER][i] = 0u;
 867:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 centroid[CapSense_CSX_TOUCHPAD_CENTROID_NEXT][i] = 0u;
 868:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 869:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
 870:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 871:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Fill each column */
 872:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 for (j = 0u; j < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; j++)
 873:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
 874:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* The first  condition could be valid only when local max on the first column 
 875:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                      * The second condition could be valid only when local max on the last column o
 876:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                      * Then corresponding column (zero or the last) of 3x3 array is initialized to 
 877:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (((((int32)ptrNewTouches->touch[number].y - 1) + (int32)j) < 0) ||
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 22


 878:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ((((int32)ptrNewTouches->touch[number].y - 1) + (int32)j) > (int32)lastTx))
 879:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 880:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         centroid[j][i] = 0u;
 881:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 882:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     else
 883:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
 884:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         centroid[j][i] = (uint16)(ptrSensor + (((i - 1u) * ptrFlashWdgt->numRows) +
 885:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
 886:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
 887:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 888:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 889:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 890:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         weightedSumX = 0;
 891:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         weightedSumY = 0;
 892:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         totalSum = 0u;
 893:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 894:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Calculate centroid */
 895:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; i++)
 896:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 897:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j = 0u; j < CapSense_CSX_TOUCHPAD_CENTROID_LENGTH; j++)
 898:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 899:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 totalSum += centroid[i][j];
 900:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 weightedSumX += (int32)centroid[i][j] * ((int32)j - 1);
 901:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 weightedSumY += (int32)centroid[i][j] * ((int32)i - 1);
 902:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 903:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 904:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 905:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The X position is calculated.
 906:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * The weightedSumX value depends on a finger position shifted regarding the X electrode (pt
 907:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * The multiplier ptrFlashWdgt->xCentroidMultiplier is a short from:
 908:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * CapSense_TOUCHPAD0_X_RESOLUTION * 256u) / (CapSense_TOUCHPAD0_NUM_RX - CONFIG))
 909:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * where CONFIG = 0 or 1 depends on TouchpadMultiplerMethod parameter
 910:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         */
 911:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         weightedSumX = ((weightedSumX * (int32)ptrFlashWdgt->xCentroidMultiplier) / (int32)totalSum
 912:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ((int32)ptrNewTouches->touch[number].x * (int32)ptrFlashWdgt->xCentroidMult
 913:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Position correction for half of a sensor */
 914:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (CapSense_ENABLE == CapSense_TOUCHPAD_MULT_METHOD)
 915:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             weightedSumX += (((int32)ptrFlashWdgt->xCentroidMultiplier) / 2);
 916:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif
 917:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 918:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The X position is rounded to the nearest integer value and normalized to the resolution 
 919:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].x = CY_LO16(((uint32)weightedSumX + CapSense_CENTROID_ROUND_VA
 920:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 921:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The Y position is calculated.
 922:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * The weightedSumY value depends on a finger position shifted regarding the Y electrode (pt
 923:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * The multiplier ptrFlashWdgt->yCentroidMultiplier is a short from:
 924:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * CapSense_TOUCHPAD0_Y_RESOLUTION * 256u) / (CapSense_TOUCHPAD0_NUM_TX - CONFIG))
 925:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         * where CONFIG = 0 or 1 depends on TouchpadMultiplerMethod parameter
 926:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         */
 927:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         weightedSumY = ((weightedSumY * (int32)ptrFlashWdgt->yCentroidMultiplier) / (int32)totalSum
 928:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ((int32)ptrNewTouches->touch[number].y * (int32)ptrFlashWdgt->yCentroidMult
 929:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Position correction for half of a sensor */
 930:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (CapSense_ENABLE == CapSense_TOUCHPAD_MULT_METHOD)
 931:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             weightedSumY += (((int32)ptrFlashWdgt->yCentroidMultiplier) / 2);
 932:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif
 933:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 934:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The Y position is rounded to the nearest integer value and normalized to the resolution 
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 23


 935:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].y = CY_LO16(((uint32)weightedSumY + CapSense_CENTROID_ROUND_VA
 936:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 937:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* The z value is a sum of raw counts of sensors that form 3x3 matrix with a local maximum 
 938:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[number].z = CY_LO8(totalSum >> CapSense_CSX_TOUCHPAD_Z_SHIFT);
 939:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
 940:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
 941:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 942:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 943:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
 944:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpTouchTracking
 945:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
 946:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 947:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
 948:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Tracks the found touches:
 949:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *    - associates them with previous touches (DistanceMap, Hungarian)
 950:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *    - applies the position filters
 951:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *    - suppresses excessive touches
 952:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 953:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
 954:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The final touch data is placed into a structure pointed by the ptr2CsxTouchpad
 955:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  member of the Flash Widget Structure.
 956:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 957:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
 958:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
 959:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
 960:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** void CapSense_DpTouchTracking(
 961:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
 962:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 963:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
 964:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches = ptrFlashWdgt->ptr2CsxTouchpad;
 965:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap;
 966:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int8 *fingerPosIndex;
 967:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     static int8 touchPadBuffer[CapSense_CSX_TOUCHPAD_BUFFER_SIZE];
 968:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
 969:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 newTouchNum = ptrNewTouches->touchNum;
 970:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint16 fingerOnThreshold = (uint16)ptrWidgetRam->fingerTh + ptrWidgetRam->hysteresis;
 971:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 972:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if ((0u != newTouchNum) || (0u != ptrOldTouches->touchNum))
 973:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
 974:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Initialize variables */
 975:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         newActiveIDs = 0u;
 976:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Getting active touch IDs from previous scan */
 977:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         oldActiveIDs = 0u;
 978:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < ptrOldTouches->touchNum; i++)
 979:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 980:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             oldActiveIDs |= (uint8)(1u << ptrOldTouches->touch[i].id);
 981:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
 982:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 983:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Set up the fingerPosIndex to the head of scratch buffer. It will be used to hold associa
 984:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         fingerPosIndex = touchPadBuffer;
 985:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 986:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* This is a int32 matrix sized MAX_LOCAL_PEAKS x MAX_LOCAL_PEAKS. Make sure its start addr
 987:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         distanceMap = (CapSense_CSX_TOUCHPAD_DISTANCE_MAP *)
 988:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                       (((uint32)touchPadBuffer + (CapSense_CSX_MAX_LOCAL_PEAKS + CapSense_CSX_TOUCH
 989:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         (uint32)~CapSense_CSX_TOUCHPAD_PADDING);
 990:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 991:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (0u < newTouchNum)
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 24


 992:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
 993:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (i = CapSense_CSX_MAX_LOCAL_PEAKS; i-- > 0u;)
 994:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
 995:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Set all new touches structure array members as not assigned */
 996:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].id = CapSense_CSX_TOUCHPAD_UNDEFINED;
 997:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
 998:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
 999:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (0u == ptrOldTouches->touchNum)
1000:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1001:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* If the previous touch tracking had not any touches. */
1002:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 for (i = 0u; i < newTouchNum; i++)
1003:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1004:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Initializes a new touch, set ID to next value and Age to 0. */
1005:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1006:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1007:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1008:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
1009:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1010:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* General case */
1011:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (newTouchNum >= ptrOldTouches->touchNum)
1012:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1013:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((1u == newTouchNum) && (1u == ptrOldTouches->touchNum))
1014:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1015:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Don't call Hungarian for 1 current and 1 previous touch. */
1016:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         fingerPosIndex[0u] = 0;
1017:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1018:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     else
1019:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1020:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Calculating and filling Distance Map array. */
1021:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_FillDistanceMap(distanceMap, ptrOldTouches);
1022:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1023:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Call Hungarian method procedure. */
1024:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_Hungarian(newTouchNum, ptrOldTouches->touchNum, fingerPosIndex, di
1025:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1026:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1027:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     for (i = 0u; i < ptrOldTouches->touchNum; i++)
1028:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1029:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if (ptrWidgetRam->velocity <
1030:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_CalcDistance((uint32)fingerPosIndex[i], i, ptrOldTouches))
1031:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1032:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Set new ID and reset Age. */
1033:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_NewTouch((uint32)fingerPosIndex[i], ptrWidgetRam->onDebounce, 
1034:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1035:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         else
1036:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1037:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Set ID to previous value and increase Age. */
1038:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             newActiveIDs |= (uint8)(1u << (ptrOldTouches->touch[i].id));
1039:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch((uint32)fingerPosIndex[i], i, ptrOldTouches);
1040:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1041:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1042:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1043:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Added new fingers, they need to assign ID. */
1044:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (newTouchNum > ptrOldTouches->touchNum)
1045:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1046:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Search new fingers. */
1047:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         for (i = 0u; i < newTouchNum; i++)
1048:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 25


1049:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* New finger found. */
1050:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             if (ptrNewTouches->touch[i].id == CapSense_CSX_TOUCHPAD_UNDEFINED)
1051:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             {
1052:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                 CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1053:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             }
1054:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1055:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1056:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1057:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 else
1058:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1059:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* newTouchNum is less than ptrOldTouches->touchNum */
1060:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1061:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Calculating and filling Distance Map array. */
1062:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_FillDistanceMap(distanceMap, ptrOldTouches);
1063:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1064:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Call Hungarian method procedure. */
1065:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_Hungarian(ptrOldTouches->touchNum, newTouchNum, fingerPosIndex, distan
1066:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1067:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     for (i = 0u; i < newTouchNum; i++)
1068:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1069:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if (ptrWidgetRam->velocity <
1070:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_CalcDistance(i, (uint32)fingerPosIndex[i], ptrOldTouches))
1071:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1072:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Set new ID and reset Age. */
1073:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_NewTouch(i, ptrWidgetRam->onDebounce, fingerOnThreshold);
1074:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1075:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         else
1076:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1077:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Set ID to previous value and increase Age. */
1078:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             newActiveIDs |= (uint8)(1u << (ptrOldTouches->touch[i].id));
1079:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch(i, (uint32)fingerPosIndex[i], ptrOldTouches);
1080:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1081:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1082:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1083:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1084:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1085:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             CapSense_TouchDownDebounce();
1086:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1087:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1088:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if CapSense_OFF_DEBOUNCE_EN
1089:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             CapSense_LiftOffDebounce(ptrWidgetRam->offDebounce, ptrOldTouches);
1090:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif
1091:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1092:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((ptrNewTouches->touchNum >= 1u) || (ptrOldTouches->touchNum != 0u))
1093:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1094:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             CapSense_SortByAge();
1095:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1096:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1097:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Store new touches as old touches */
1098:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = ptrNewTouches->touchNum; i-- > 0u;)
1099:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1100:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             CapSense_CopyTouchRecord(&ptrOldTouches->touch[i], &ptrNewTouches->touch[i]);
1101:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1102:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1103:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrOldTouches->touchNum = ptrNewTouches->touchNum;
1104:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1105:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Save ID allocation masks for usage in the next iteration. */
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 26


1106:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         oldActiveIDs = newActiveIDs;
1107:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1108:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****  }
1109:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1110:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1111:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1112:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_TransferTouch
1113:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1114:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1115:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1116:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Copies ID, increments age and decrements debounce(if debounce > 0) parameters
1117:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   for the new touch that has been detected also in the old touches.
1118:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1119:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1120:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Copies ID, increments age and decrements debounce(if debounce > 0) parameters
1121:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   for the new touch that has been detected also in the old touches.
1122:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1123:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param newIndex The touch index of touch array in the new touches structure.
1124:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param oldIndex The touch index of touch array in the old touches structure.
1125:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1126:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1127:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1128:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_TransferTouch(
1129:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             uint32 newIndex, uint32 oldIndex, CapSense_CSX_TOUCHPAD_DATA_STRUCT *pt
1130:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1131:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     ptrNewTouches->touch[newIndex].id = ptrOldTouches->touch[oldIndex].id;
1132:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1133:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     ptrNewTouches->touch[newIndex].age = ptrOldTouches->touch[oldIndex].age + 1u;
1134:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1135:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Decrement debounce counter if the touch in touch down ot lift off stage (debounce counter > 
1136:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (0u != (ptrOldTouches->touch[oldIndex].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK))
1137:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1138:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = ptrOldTouches->touch[oldIndex].debounce - 1u;
1139:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1140:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     else
1141:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1142:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = ptrOldTouches->touch[oldIndex].debounce;
1143:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1144:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1145:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1146:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1147:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1148:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_NewTouch
1149:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1150:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1151:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1152:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Set ID, age and on debounce parameters for a new touch.
1153:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1154:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1155:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Raw count of a local maximum has to be higher than fingerOnThreshold threshold
1156:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   so the new touch is accepted. If raw count is lower than the fingerOnThreshold
1157:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   than corresponding touch is marked with CapSense_CSX_TOUCHPAD_FT_ON_FAIL
1158:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   ID and will be deleted from new touches structure in CapSense_SortByAge()
1159:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   (new touches structure is reorganized in this case).
1160:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1161:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param newIndex The touch index of touch array in the new touches structure.
1162:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param onDebounce Counter value for touch down procedure.
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 27


1163:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerOnThreshold The finger ON threshold (finger threshold + hysteresis)
1164:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1165:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1166:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_NewTouch(uint32 newIndex, uint8 onDebounce, uint16 fingerOnThreshold)
1167:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1168:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 idx;
1169:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1170:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Touch is not accepted */
1171:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (ptrNewTouches->touch[newIndex].rawCount < fingerOnThreshold)
1172:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1173:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].id = CapSense_CSX_TOUCHPAD_FT_ON_FAIL;
1174:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1175:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     else
1176:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1177:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Create a bit map of ID's currently used and previously used and search for the new lowes
1178:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         idx = CapSense_GetLowestId(((uint16)oldActiveIDs | (uint16)newActiveIDs));
1179:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1180:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Indicate that ID is now taken */
1181:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         newActiveIDs |= (uint8)(1u << idx);
1182:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1183:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Set the ID */
1184:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].id = CY_LO8(idx);
1185:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1186:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Set the age */
1187:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].age = 1u;
1188:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1189:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* New Finger goes through touchdown debounce procedure if required */
1190:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrNewTouches->touch[newIndex].debounce = onDebounce | CapSense_CSX_TOUCHPAD_TOUCH_DOWN;
1191:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1192:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1193:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1194:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1195:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1196:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_GetLowestId
1197:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1198:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1199:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1200:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Returns the lowest available touch ID.
1201:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1202:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1203:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Returns the lowest available touch ID.
1204:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1205:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param idMask The mask of IDs used in new and old touches.
1206:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1207:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return   Returns the lowest available touch ID. If no ID was available,
1208:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *           CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID is returned.
1209:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1210:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1211:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** __STATIC_INLINE uint8 CapSense_GetLowestId(uint16 idMask)
1212:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1213:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 idx;
1214:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 touchId = CapSense_CSX_TOUCHPAD_TOUCH_ABSENT_ID;
1215:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1216:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Search for the lowest available ID. */
1217:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     idMask >>= CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID;
1218:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1219:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (idx = CapSense_CSX_TOUCHPAD_TOUCH_MIN_ID; idx <= CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID; idx++
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 28


1220:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1221:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Determine if the new ID is available. */
1222:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (0u == (idMask & 1u))
1223:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1224:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             touchId = idx;
1225:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             break;
1226:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1227:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1228:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         idMask >>= 1u;
1229:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1230:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1231:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Return an indicator of failure. */
1232:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint8)(touchId);
1233:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1234:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1235:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1236:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1237:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_TouchDownDebounce
1238:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1239:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1240:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1241:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Handles touch down de-bouncing.
1242:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1243:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1244:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Even if a new touch is detected it is not considered as active until
1245:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   on debounce counter has not reached zero. If on debounce counter has reached zero
1246:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   the touch down mask is cleared. Otherwise the age of the new finger is cleared
1247:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   (it is considered as not active)
1248:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1249:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1250:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** __STATIC_INLINE void CapSense_TouchDownDebounce(void)
1251:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1252:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1253:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1254:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < ptrNewTouches->touchNum; i++)
1255:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1256:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* If it is a touchdown debouncing finger its age is set to zero */
1257:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (0u != (ptrNewTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_TOUCH_DOWN))
1258:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1259:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((ptrNewTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK) <= 1u)
1260:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1261:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* If debounce counter reached zero than touch down stage
1262:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  * is finished and corresponding mask is cleared
1263:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  */
1264:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].debounce &=
1265:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (uint8)~(CapSense_CSX_TOUCHPAD_TOUCH_DOWN | CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK
1266:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1267:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             else
1268:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1269:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Set the age to zero - finger is not active */
1270:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrNewTouches->touch[i].age = 0u;
1271:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1272:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1273:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1274:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1275:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1276:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 29


1277:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (0u != CapSense_OFF_DEBOUNCE_EN)
1278:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1279:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_LiftOffDebounce
1280:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1281:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1282:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1283:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Handles lift off de-bouncing.
1284:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1285:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1286:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Even if a touch is not present in new touches, but present in old
1287:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   touches this means it is lift off event. This touch is considered as active and
1288:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   is added to new touches structure until the offDebounce counter reaches zero.
1289:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   The offDebounce counter is set when lift off event is detected and is decremented
1290:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   each time the CapSense_LiftOffDebounce() API is called.
1291:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1292:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param offDebounce   The off debounce counter value.
1293:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1294:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1295:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1296:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** __STATIC_INLINE void CapSense_LiftOffDebounce(uint8 offDebounce,
1297:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                        CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTou
1298:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1299:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1300:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint8 liftOffMask = (uint8)(~newActiveIDs) & oldActiveIDs;
1301:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1302:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if(liftOffMask != 0u)
1303:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1304:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < ptrOldTouches->touchNum; i++)
1305:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1306:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /*
1307:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * The old touch is not found in the new touches.
1308:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * Lift off procedure starts and the old touch is copied to the new touches if there is
1309:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              */
1310:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1311:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if (((uint8)(0x01u << ptrOldTouches->touch[i].id) & liftOffMask) != 0u)
1312:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1313:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* If there is a room in new touches structure and the old touch is not under touch
1314:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if ((ptrNewTouches->touchNum < CapSense_CSX_MAX_LOCAL_PEAKS) &&
1315:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     (0u == (ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_TOUCH_DOWN)))
1316:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1317:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Lift off debouncing starts if there is not lift off mask in the old touch */
1318:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_LIFT_OFF) == 0u)
1319:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1320:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrOldTouches->touch[i].debounce = offDebounce | CapSense_CSX_TOUCHPAD_LIFT
1321:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1322:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Copy the old finger data to the new one using TransferTouch API to manag
1323:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_TransferTouch((uint32)ptrNewTouches->touchNum, i, ptrOldTouches);
1324:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].x = ptrOldTouches->touch[i].x
1325:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].y = ptrOldTouches->touch[i].y
1326:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].z = ptrOldTouches->touch[i].z
1327:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = ptrOldTouches->tou
1328:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         ptrNewTouches->touchNum++;
1329:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1330:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     else
1331:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1332:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         /* Check whether debounce counter is reached zero if there is a lift off ma
1333:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        if ((ptrOldTouches->touch[i].debounce & CapSense_CSX_TOUCHPAD_DEBOUNCE_MASK)
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 30


1334:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        {
1335:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Clear lift off mask if debounce counter has reached zero */
1336:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrOldTouches->touch[i].debounce &= (uint8)~CapSense_CSX_TOUCHPAD_LIFT_
1337:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        }
1338:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        else
1339:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        {
1340:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             /* Copy the old finger data to the new one using TransferTouch API to m
1341:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_TransferTouch((uint32)ptrNewTouches->touchNum, i, ptrOldTouche
1342:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].x = ptrOldTouches->touch[
1343:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].y = ptrOldTouches->touch[
1344:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].z = ptrOldTouches->touch[
1345:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touch[ptrNewTouches->touchNum].rawCount = ptrOldTouches-
1346:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrNewTouches->touchNum++;
1347:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                        }
1348:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1349:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1350:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1351:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1352:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1353:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1354:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* (0u != CapSense_OFF_DEBOUNCE_EN) */
1355:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1356:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1357:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_CalcDistance
1358:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1359:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1360:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1361:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates squared distance between old and new touches pointed by the input
1362:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   parameters.
1363:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1364:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1365:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Calculates squared distance between old and new touches pointed by the input
1366:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   parameters.
1367:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1368:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param newIndex      The index of touch in the new touches structure.
1369:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param oldIndex      The index of touch in the old touches structure.
1370:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1371:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1372:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns the squared distance.
1373:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1374:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1375:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static uint32 CapSense_CalcDistance(uint32 newIndex, uint32 oldIndex,
1376:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                       CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouc
1377:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1378:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 result;
1379:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 xDistance = (int32)(ptrOldTouches->touch[oldIndex].x) - (int32)(ptrNewTouches->touch[newI
1380:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 yDistance = (int32)(ptrOldTouches->touch[oldIndex].y) - (int32)(ptrNewTouches->touch[newI
1381:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1382:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     result = ((xDistance * xDistance) + (yDistance *yDistance));
1383:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return (uint32)result;
1384:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1385:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1386:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1387:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1388:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_FillDistanceMap
1389:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1390:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 31


1391:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1392:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Populates the distance map used for the Hungarian method with distance
1393:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   squared values.
1394:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1395:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1396:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Distance squared is used instead of distance to eliminate square root
1397:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   calculation, which requires a lot of execution time.
1398:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1399:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param distanceMap   The pointer to a 2-dimensional array of int32's
1400:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          with dimensions CapSense_CSX_MAX_LOCAL_PEAKS x
1401:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          CapSense_CSX_MAX_LOCAL_PEAKS
1402:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrOldTouches The pointer to the old touches structure.
1403:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1404:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return The contents of distanceMap[][] are modified.
1405:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1406:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1407:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_FillDistanceMap(CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap,
1408:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                              CapSense_CSX_TOUCHPAD_DATA_STRUCT *ptrOldTouches)
1409:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1410:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1411:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 j;
1412:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1413:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (ptrNewTouches->touchNum >= ptrOldTouches->touchNum)
1414:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1415:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = ptrNewTouches->touchNum; i-- > 0u; )
1416:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1417:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j = ptrOldTouches->touchNum; j-- > 0u; )
1418:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1419:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 distanceMap[i][j] = (int32)CapSense_CalcDistance(i, j, ptrOldTouches);
1420:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1421:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1422:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1423:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     else
1424:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1425:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = ptrOldTouches->touchNum; i-- > 0u;)
1426:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1427:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j = ptrNewTouches->touchNum; j-- > 0u;)
1428:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1429:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 distanceMap[i][j] = (int32)CapSense_CalcDistance(j, i, ptrOldTouches);
1430:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1431:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1432:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1433:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1434:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1435:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1436:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1437:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_Hungarian
1438:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1439:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1440:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1441:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Executes the Hungarian Method on a distance map to track motion of two touch sets
1442:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   (old touches vs new touches)
1443:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1444:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1445:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   This function uses the Hungarian method described in specification 001-63362.
1446:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   There is no bounds checking on the parameters. It is the calling function's
1447:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   responsibility to ensure parameter validity.
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 32


1448:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1449:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param rowCount       Number of elements in row of distanceMap matrix. This value must be
1450:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                       greater than or equal to colCount.
1451:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param colCount       Number of elements in column of distanceMap matrix.This value must
1452:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                       be greater than or equal to 1.
1453:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param fingerPosIndex The pointer to an array where associations between the
1454:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                             previous and current touches are returned.
1455:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param distanceMap    The 2-dimensional map of distances between the nodes in each
1456:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          coordinate set. The 1st index of distanceMap corresponds to nodes
1457:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          in the 1st coordinate data set, and the 2nd index of distanceMap
1458:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          corresponds to the 2nd coordinate data set. Each element in
1459:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          distanceMap is the square of the distance between the
1460:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          corresponding coordinates in the 1st and 2nd data set.
1461:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1462:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1463:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return Returns fingerPosIndex, the associations between the 1st and 2nd coordinate set are
1464:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          returned in the array referenced by this pointer. It is indexed
1465:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          by the 2nd coordinate set, and its elements are the corresponding
1466:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *                          index in the 1st coordinate set.
1467:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1468:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1469:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_Hungarian(uint8 rowCount, uint8 colCount, int8 *fingerPosIndex,
1470:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                              CapSense_CSX_TOUCHPAD_DISTANCE_MAP *distanceMap)
1471:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1472:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 col[CapSense_CSX_MAX_LOCAL_PEAKS];
1473:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 row[CapSense_CSX_MAX_LOCAL_PEAKS];
1474:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 *mins;
1475:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 delta;
1476:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1477:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int8 *links;
1478:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int8 *visited;
1479:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int8 *markIndices;
1480:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1481:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 colValue = 0;
1482:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 markedI = 0;
1483:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 markedJ = 0;
1484:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 i = 0;
1485:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 i1 = 0;
1486:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 j = 0;
1487:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     int32 j1 = 0;
1488:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1489:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     mins = (int32 *)(distanceMap + CapSense_CSX_MAX_LOCAL_PEAKS);
1490:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     links = (int8 *)(mins + CapSense_CSX_MAX_LOCAL_PEAKS);
1491:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     visited = links + CapSense_CSX_MAX_LOCAL_PEAKS;
1492:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     markIndices = visited + CapSense_CSX_MAX_LOCAL_PEAKS;
1493:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1494:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     (void)memset(col, 0, (uint32)colCount * 4u);
1495:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1496:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Initialize row and markIndices arrays */
1497:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i1 = (int32)rowCount; i1-- > 0;)
1498:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1499:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         row[i1] = 0;
1500:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         markIndices[i1] = -1;
1501:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1502:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1503:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Go through all columns */
1504:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = (int32)colCount; i-- > 0;)
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 33


1505:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1506:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Initialize visited, links, mins arrays. They used for every column */
1507:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i1 = (int32)rowCount; i1-- > 0;)
1508:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1509:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             visited[i1] = 0;
1510:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             links[i1] = -1;
1511:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             mins[i1] = (int32)CapSense_CSX_TOUCHPAD_INT32;
1512:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1513:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1514:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Next two variables are used to mark column and row */
1515:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         markedI = i;
1516:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         markedJ = -1;
1517:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1518:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         while (markedI != -1)
1519:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1520:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             j = -1;
1521:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             colValue = col[markedI];
1522:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1523:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Go through all rows */
1524:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j1 = (int32)rowCount; j1-- > 0;)
1525:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1526:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (visited[j1] == 0)
1527:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1528:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     delta = distanceMap[j1][markedI] - row[j1] - colValue;
1529:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1530:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Find the minimum element index in column i */
1531:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (mins[j1] > delta)
1532:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1533:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         mins[j1] = delta;
1534:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         links[j1] = (int8)markedJ;
1535:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1536:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1537:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if ((j == -1) || (mins[j1] < mins[j]))
1538:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1539:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         j = j1;
1540:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1541:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1542:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1543:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1544:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             delta = mins[j];
1545:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1546:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Go through all row */
1547:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j1 = (int32)rowCount; j1-- > 0;)
1548:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1549:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (visited[j1] != 0)
1550:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1551:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     col[markIndices[j1]] += delta;
1552:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     row[j1] -= delta;
1553:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1554:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 else
1555:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1556:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     mins[j1] -= delta;
1557:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1558:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1559:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1560:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             col[i] +=  delta;
1561:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 34


1562:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             visited[j] = 1;
1563:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             markedJ = j;
1564:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             markedI = markIndices[j];
1565:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1566:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1567:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         while (links[j] != -1)
1568:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1569:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             markIndices[j] = markIndices[links[j]];
1570:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             j = links[j];
1571:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1572:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1573:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         markIndices[j] = (int8)i;
1574:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1575:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1576:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Provide an association between two sets of touches */
1577:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (j = (int32)rowCount; j-- > 0;)
1578:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1579:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (markIndices[j] != -1)
1580:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1581:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             fingerPosIndex[markIndices[j]] = (int8)j;
1582:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1583:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1584:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1585:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1586:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1587:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1588:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_SortByAge
1589:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1590:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1591:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1592:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Sorts the new touches array by age (in decrementing order) and Id (in incrementing order) field
1593:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1594:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1595:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Sorts the new touches array by age (in decrementing order) and Id (in incrementing order) field
1596:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1597:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1598:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** __STATIC_INLINE void CapSense_SortByAge(void)
1599:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1600:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1601:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 j;
1602:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_CSX_TOUCHPAD_PEAK_STRUCT tempTouch;
1603:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 newTouchNum = ptrNewTouches->touchNum;
1604:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1605:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /*
1606:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      * Delete failed touch by coping(rewriting) the last touch content to the failed touch.
1607:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      * If the last touch record is invalid try the penult touch record and so on.
1608:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****      */
1609:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1610:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < newTouchNum; i++)
1611:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1612:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if (ptrNewTouches->touch[i].id > CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID)
1613:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1614:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             for (j = (newTouchNum - 1u); j > i; j--)
1615:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1616:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Check the touch records from the last to the current.
1617:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  * If the touch record is valid then replace the current touch record
1618:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  */
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 35


1619:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (ptrNewTouches->touch[j].id <= CapSense_CSX_TOUCHPAD_TOUCH_MAX_ID)
1620:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1621:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_CopyTouchRecord(&ptrNewTouches->touch[i], &ptrNewTouches->touch[j]);
1622:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1623:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Finish the loop. The valid touch record is found and copied down */
1624:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     break;
1625:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1626:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 else
1627:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1628:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Decrement the number of touch records.
1629:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                      * The last touch record is invalid - try the penult touch record
1630:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                      */
1631:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     newTouchNum--;
1632:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1633:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1634:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1635:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* Decrement the number of touch records.
1636:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              * The last touch record is valid and copied to the current position (i)
1637:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****              */
1638:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             newTouchNum--;
1639:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1640:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1641:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1642:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Set new number of touches */
1643:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     ptrNewTouches->touchNum = (uint8)newTouchNum;
1644:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1645:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Sort new touches structure */
1646:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < newTouchNum; i++)
1647:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1648:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (j = (i + 1u); j < newTouchNum; j++)
1649:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1650:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             /* if next touches have higher age or lower id with the same age then swap touches */
1651:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             if ((ptrNewTouches->touch[i].age < ptrNewTouches->touch[j].age)      ||
1652:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ((ptrNewTouches->touch[i].age == ptrNewTouches->touch[j].age) &&
1653:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                  (ptrNewTouches->touch[i].id > ptrNewTouches->touch[j].id)))
1654:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             {
1655:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Swap touches */
1656:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&tempTouch, &ptrNewTouches->touch[i]);
1657:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&ptrNewTouches->touch[i], &ptrNewTouches->touch[j]);
1658:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 CapSense_CopyTouchRecord(&ptrNewTouches->touch[j], &tempTouch);
1659:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             }
1660:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1661:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1662:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1663:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1664:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1665:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1666:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_CopyTouchRecord
1667:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1668:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1669:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1670:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Copies content from the source touch structure to the destination touch structure.
1671:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1672:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1673:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Copies content from the source touch structure to the destination touch structure.
1674:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1675:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param *destination The pointer to the destination touch structure.
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 36


1676:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param *source      The pointer to the source touch structure.
1677:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1678:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1679:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** static void CapSense_CopyTouchRecord(CapSense_CSX_TOUCHPAD_PEAK_STRUCT *destination,
1680:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                                                        CapSense_CSX_TOUCHPAD_PEAK_STRUCT *source)
1681:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1682:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->x        =  source->x;
1683:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->y        =  source->y;
1684:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->z        =  source->z;
1685:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->rawCount =  source->rawCount;
1686:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->id       =  source->id;
1687:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->age      =  source->age;
1688:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     destination->debounce =  source->debounce;
1689:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1690:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1691:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1692:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1693:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_DpFilterTouchRecord
1694:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1695:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1696:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1697:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   Filter position data of every valid touch, if there is a room in RAM Widget Data Structure
1698:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *   and update corresponding fields in RAM Widget Data Structure
1699:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1700:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1701:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  This API checks every touch in the new touches structure if it is valid until there is a room
1702:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  in the RAM Widget Data Structure (where touch reports are stored). If touch is valid
1703:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  (valid id and age > 0) then touch is filtered if filter is enabled. At the end the
1704:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  corresponding fields are updated in the RAM Widget Data Structure.
1705:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1706:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrFlashWdgt The pointer to the Flash Widget Structure.
1707:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1708:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \return The number of reported touches to the RAM Data Structure.
1709:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1710:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1711:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** uint32 CapSense_DpFilterTouchRecord(CapSense_FLASH_WD_STRUCT const *ptrFlashWdgt)
1712:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
1713:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 i;
1714:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     uint32 reportedTouchNum = 0u;
1715:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     CapSense_RAM_WD_CSX_TOUCHPAD_STRUCT *ptrWidgetRam = ptrFlashWdgt->ptr2WdgtRam;
1716:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1717:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (0u != CapSense_POSITION_FILTER_EN)
1718:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         uint32 oldIdMask = 0u;
1719:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         uint32 j;
1720:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         uint16 filteredX;
1721:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         uint16 filteredY;
1722:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         CapSense_TOUCHPAD_POS_HISTORY_STRUCT *ptrHistory;
1723:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1724:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_POSITION_FILTER_EN) */
1725:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1726:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #if (0u != CapSense_POSITION_FILTER_EN)
1727:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         ptrHistory = ptrFlashWdgt->ptr2PosHistory;
1728:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Find what Ids were active in the previous report */
1729:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         for (i = 0u; i < CapSense_CSX_MAX_FINGERS; i++)
1730:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1731:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             oldIdMask |= 0x01Lu << ptrWidgetRam->touch[i].id;
1732:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 37


1733:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     #endif /* (0u != CapSense_POSITION_FILTER_EN) */
1734:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1735:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     /* Go through all touch fields in RAM Data Structure */
1736:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     for (i = 0u; i < CapSense_CSX_MAX_FINGERS; i++)
1737:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1738:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         /* Check if touch is valid to be reported: age has to be higher than 0. Id has been checked
1739:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         if ((i < ptrNewTouches->touchNum) && (ptrNewTouches->touch[i].age > 0u))
1740:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1741:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #if (0u == CapSense_POSITION_FILTER_EN)
1742:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Report touch to the RAM Data Structure if position filter is disabled in general
1743:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].x = ptrNewTouches->touch[i].x;
1744:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].y = ptrNewTouches->touch[i].y;
1745:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1746:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1747:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #else
1748:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1749:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 filteredX = ptrNewTouches->touch[i].x;
1750:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 filteredY = ptrNewTouches->touch[i].y;
1751:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1752:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Initialize position and filter history if the touch has the id that was absent i
1753:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (0u == (oldIdMask & (1Lu << ptrNewTouches->touch[i].id)))
1754:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1755:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].x = ptrNewTouches->touch[i].x;
1756:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].y = ptrNewTouches->touch[i].y;
1757:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1758:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1759:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     if (NULL != ptrHistory)
1760:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1761:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         CapSense_InitPosFiltersDd(&ptrHistory[i], filteredX, filteredY);
1762:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
1763:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1764:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 /* Find corresponding position history of the new touch (by id) in the RAW Widget D
1765:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 else
1766:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1767:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /*
1768:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * Index <i> addresses new touch array and final reported in data structure arra
1769:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * Index <j> addresses filter history and previously reported in data structure 
1770:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     *
1771:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * If new touch appears, then it is always added at the and of arrays, therefore
1772:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * is safe to overwrite history with new touch.
1773:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * Another case is moving touch from its previous reported index to new index.
1774:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * This new index is always lower, so filter history of touch (i-1) was already 
1775:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * and processed for touch (i-1). Therefore, again, it is safely to copy filter 
1776:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     * from j to i.
1777:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     */
1778:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     for(j = 0u; j < CapSense_CSX_MAX_FINGERS; j++)
1779:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     {
1780:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         if(ptrNewTouches->touch[i].id == ptrWidgetRam->touch[j].id)
1781:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         {
1782:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             CapSense_RunPosFiltersDd(ptrFlashWdgt, i, j, &filteredX, &filteredY);
1783:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1784:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].x = filteredX;
1785:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].y = filteredY;
1786:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].z = ptrNewTouches->touch[i].z;
1787:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                             ptrWidgetRam->touch[i].id = ptrNewTouches->touch[i].id;
1788:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                         }
1789:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     }
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 38


1790:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1791:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #endif
1792:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             reportedTouchNum++;
1793:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1794:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         else
1795:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         {
1796:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].x = CapSense_CSX_TOUCHPAD_POSITION_NONE;
1797:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].y = CapSense_CSX_TOUCHPAD_POSITION_NONE;
1798:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].z = CY_LO8(CapSense_CSX_TOUCHPAD_POSITION_NONE);
1799:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrWidgetRam->touch[i].id = CapSense_CSX_TOUCHPAD_UNDEFINED;
1800:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1801:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #if (0u != CapSense_POSITION_FILTER_EN)
1802:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 if (NULL != ptrHistory)
1803:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 {
1804:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     /* Initialize history for non-valid touches */
1805:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                     CapSense_InitPosFiltersDd(&ptrHistory[i], CapSense_CSX_TOUCHPAD_POSITION_NONE, 
1806:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****                 }
1807:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             #endif /* (0u != CapSense_POSITION_FILTER_EN) */
1808:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         }
1809:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     }
1810:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     return reportedTouchNum;
1811:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** }
1812:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1813:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #endif /* #if CapSense_CSX_TOUCHPAD_WIDGET_EN */
1814:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1815:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1816:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** #if (0u != CapSense_POSITION_FILTER_EN)
1817:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** /*******************************************************************************
1818:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * Function Name: CapSense_InitPosFiltersSd
1819:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** ****************************************************************************//**
1820:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1821:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \brief
1822:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  Writes desired value into single-dimension position filter history.
1823:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1824:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \details
1825:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  Writes desired value into single-dimension position filter history.
1826:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1827:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param ptrHistory
1828:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The pointer to the structure that holds previous historical position value.
1829:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1830:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** * \param value
1831:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *  The desired value to initialize position filters history.
1832:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *
1833:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** *******************************************************************************/
1834:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** void CapSense_InitPosFiltersSd(CapSense_SLIDER_POS_HISTORY_STRUCT *ptrHistory, uint16 value)
1835:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** {
 309              		.loc 1 1835 0
 310              		.cfi_startproc
 311              		@ args = 0, pretend = 0, frame = 0
 312              		@ frame_needed = 0, uses_anonymous_args = 0
 313              		@ link register save eliminated.
 314              	.LVL28:
1836:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     if (NULL != ptrHistory)
 315              		.loc 1 1836 0
 316 0000 00B1     		cbz	r0, .L23
1837:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****     {
1838:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_MEDIAN_FILTER_EN)
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 39


1839:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posMedianZ1 = value;
1840:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posMedianZ2 = value;
1841:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_MEDIAN_FILTER_EN) */
1842:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1843:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_IIR_FILTER_EN)
1844:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posIIR = value;
1845:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* #if (0u != CapSense_POS_IIR_FILTER_EN) */
1846:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1847:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_ADAPTIVE_IIR_FILTER_EN)
1848:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posAIIR = value;
1849:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #endif /* (0u != CapSense_POS_ADAPTIVE_IIR_FILTER_EN) */
1850:Generated_Source\PSoC6/CapSense_Centroid_LL.c **** 
1851:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****         #if (0u != CapSense_POS_AVERAGE_FILTER_EN)
1852:Generated_Source\PSoC6/CapSense_Centroid_LL.c ****             ptrHistory->posAverage = value;
 317              		.loc 1 1852 0
 318 0002 0180     		strh	r1, [r0]	@ movhi
 319              	.L23:
 320 0004 7047     		bx	lr
 321              		.cfi_endproc
 322              	.LFE127:
 323              		.size	CapSense_InitPosFiltersSd, .-CapSense_InitPosFiltersSd
 324 0006 00BF     		.bss
 325              		.align	2
 326              		.set	.LANCHOR0,. + 0
 327              		.type	localMaxIndex, %object
 328              		.size	localMaxIndex, 1
 329              	localMaxIndex:
 330 0000 00       		.space	1
 331 0001 000000   		.space	3
 332              		.type	localMax, %object
 333              		.size	localMax, 1
 334              	localMax:
 335 0004 00       		.space	1
 336 0005 000000   		.space	3
 337              		.type	localDiffArray, %object
 338              		.size	localDiffArray, 6
 339              	localDiffArray:
 340 0008 00000000 		.space	6
 340      0000
 341              		.text
 342              	.Letext0:
 343              		.file 2 "c:\\program files (x86)\\cypress\\psoc creator\\4.2\\psoc creator\\import\\gnu\\arm\\5.4.
 344              		.file 3 "c:\\program files (x86)\\cypress\\psoc creator\\4.2\\psoc creator\\import\\gnu\\arm\\5.4.
 345              		.file 4 "Generated_Source\\PSoC6\\pdl\\drivers/peripheral/syslib/cy_syslib.h"
 346              		.file 5 "Generated_Source\\PSoC6\\CapSense_Configuration.h"
 347              		.file 6 "Generated_Source\\PSoC6\\CapSense_Structure.h"
 348              		.file 7 "Generated_Source\\PSoC6\\pdl\\cmsis/include/core_cm4.h"
 349              		.section	.debug_info,"",%progbits
 350              	.Ldebug_info0:
 351 0000 89030000 		.4byte	0x389
 352 0004 0400     		.2byte	0x4
 353 0006 00000000 		.4byte	.Ldebug_abbrev0
 354 000a 04       		.byte	0x4
 355 000b 01       		.uleb128 0x1
 356 000c 5B020000 		.4byte	.LASF54
 357 0010 0C       		.byte	0xc
 358 0011 FE010000 		.4byte	.LASF55
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 40


 359 0015 4F030000 		.4byte	.LASF56
 360 0019 00000000 		.4byte	.Ldebug_ranges0+0
 361 001d 00000000 		.4byte	0
 362 0021 00000000 		.4byte	.Ldebug_line0
 363 0025 02       		.uleb128 0x2
 364 0026 04       		.byte	0x4
 365 0027 05       		.byte	0x5
 366 0028 696E7400 		.ascii	"int\000"
 367 002c 03       		.uleb128 0x3
 368 002d 04       		.byte	0x4
 369 002e 07       		.byte	0x7
 370 002f 3C010000 		.4byte	.LASF0
 371 0033 03       		.uleb128 0x3
 372 0034 08       		.byte	0x8
 373 0035 05       		.byte	0x5
 374 0036 C8010000 		.4byte	.LASF1
 375 003a 03       		.uleb128 0x3
 376 003b 08       		.byte	0x8
 377 003c 04       		.byte	0x4
 378 003d 3A030000 		.4byte	.LASF2
 379 0041 03       		.uleb128 0x3
 380 0042 01       		.byte	0x1
 381 0043 06       		.byte	0x6
 382 0044 93000000 		.4byte	.LASF3
 383 0048 04       		.uleb128 0x4
 384 0049 18000000 		.4byte	.LASF6
 385 004d 02       		.byte	0x2
 386 004e 1D       		.byte	0x1d
 387 004f 53000000 		.4byte	0x53
 388 0053 03       		.uleb128 0x3
 389 0054 01       		.byte	0x1
 390 0055 08       		.byte	0x8
 391 0056 9F000000 		.4byte	.LASF4
 392 005a 03       		.uleb128 0x3
 393 005b 02       		.byte	0x2
 394 005c 05       		.byte	0x5
 395 005d 48020000 		.4byte	.LASF5
 396 0061 04       		.uleb128 0x4
 397 0062 E2000000 		.4byte	.LASF7
 398 0066 02       		.byte	0x2
 399 0067 2B       		.byte	0x2b
 400 0068 6C000000 		.4byte	0x6c
 401 006c 03       		.uleb128 0x3
 402 006d 02       		.byte	0x2
 403 006e 07       		.byte	0x7
 404 006f 46000000 		.4byte	.LASF8
 405 0073 04       		.uleb128 0x4
 406 0074 33000000 		.4byte	.LASF9
 407 0078 02       		.byte	0x2
 408 0079 3F       		.byte	0x3f
 409 007a 7E000000 		.4byte	0x7e
 410 007e 03       		.uleb128 0x3
 411 007f 04       		.byte	0x4
 412 0080 05       		.byte	0x5
 413 0081 21030000 		.4byte	.LASF10
 414 0085 04       		.uleb128 0x4
 415 0086 FC000000 		.4byte	.LASF11
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 41


 416 008a 02       		.byte	0x2
 417 008b 41       		.byte	0x41
 418 008c 90000000 		.4byte	0x90
 419 0090 03       		.uleb128 0x3
 420 0091 04       		.byte	0x4
 421 0092 07       		.byte	0x7
 422 0093 AD000000 		.4byte	.LASF12
 423 0097 03       		.uleb128 0x3
 424 0098 08       		.byte	0x8
 425 0099 07       		.byte	0x7
 426 009a 55010000 		.4byte	.LASF13
 427 009e 03       		.uleb128 0x3
 428 009f 04       		.byte	0x4
 429 00a0 07       		.byte	0x7
 430 00a1 BA010000 		.4byte	.LASF14
 431 00a5 03       		.uleb128 0x3
 432 00a6 01       		.byte	0x1
 433 00a7 08       		.byte	0x8
 434 00a8 2A030000 		.4byte	.LASF15
 435 00ac 04       		.uleb128 0x4
 436 00ad 6C010000 		.4byte	.LASF16
 437 00b1 03       		.byte	0x3
 438 00b2 18       		.byte	0x18
 439 00b3 48000000 		.4byte	0x48
 440 00b7 04       		.uleb128 0x4
 441 00b8 52020000 		.4byte	.LASF17
 442 00bc 03       		.byte	0x3
 443 00bd 24       		.byte	0x24
 444 00be 61000000 		.4byte	0x61
 445 00c2 04       		.uleb128 0x4
 446 00c3 7C000000 		.4byte	.LASF18
 447 00c7 03       		.byte	0x3
 448 00c8 2C       		.byte	0x2c
 449 00c9 73000000 		.4byte	0x73
 450 00cd 04       		.uleb128 0x4
 451 00ce 18030000 		.4byte	.LASF19
 452 00d2 03       		.byte	0x3
 453 00d3 30       		.byte	0x30
 454 00d4 85000000 		.4byte	0x85
 455 00d8 03       		.uleb128 0x3
 456 00d9 04       		.byte	0x4
 457 00da 04       		.byte	0x4
 458 00db 8D000000 		.4byte	.LASF20
 459 00df 03       		.uleb128 0x3
 460 00e0 08       		.byte	0x8
 461 00e1 04       		.byte	0x4
 462 00e2 ED000000 		.4byte	.LASF21
 463 00e6 05       		.uleb128 0x5
 464 00e7 C4000000 		.4byte	.LASF22
 465 00eb 04       		.byte	0x4
 466 00ec 8503     		.2byte	0x385
 467 00ee AC000000 		.4byte	0xac
 468 00f2 05       		.uleb128 0x5
 469 00f3 07010000 		.4byte	.LASF23
 470 00f7 04       		.byte	0x4
 471 00f8 8603     		.2byte	0x386
 472 00fa B7000000 		.4byte	0xb7
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 42


 473 00fe 05       		.uleb128 0x5
 474 00ff 35010000 		.4byte	.LASF24
 475 0103 04       		.byte	0x4
 476 0104 8703     		.2byte	0x387
 477 0106 CD000000 		.4byte	0xcd
 478 010a 05       		.uleb128 0x5
 479 010b B4010000 		.4byte	.LASF25
 480 010f 04       		.byte	0x4
 481 0110 8A03     		.2byte	0x38a
 482 0112 C2000000 		.4byte	0xc2
 483 0116 04       		.uleb128 0x4
 484 0117 00000000 		.4byte	.LASF26
 485 011b 05       		.byte	0x5
 486 011c F2       		.byte	0xf2
 487 011d F2000000 		.4byte	0xf2
 488 0121 04       		.uleb128 0x4
 489 0122 A8030000 		.4byte	.LASF27
 490 0126 05       		.byte	0x5
 491 0127 F6       		.byte	0xf6
 492 0128 E6000000 		.4byte	0xe6
 493 012c 06       		.uleb128 0x6
 494 012d 04       		.byte	0x4
 495 012e F2000000 		.4byte	0xf2
 496 0132 07       		.uleb128 0x7
 497 0133 E6000000 		.4byte	0xe6
 498 0137 42010000 		.4byte	0x142
 499 013b 08       		.uleb128 0x8
 500 013c 9E000000 		.4byte	0x9e
 501 0140 00       		.byte	0
 502 0141 00       		.byte	0
 503 0142 07       		.uleb128 0x7
 504 0143 F2000000 		.4byte	0xf2
 505 0147 52010000 		.4byte	0x152
 506 014b 08       		.uleb128 0x8
 507 014c 9E000000 		.4byte	0x9e
 508 0150 00       		.byte	0
 509 0151 00       		.byte	0
 510 0152 09       		.uleb128 0x9
 511 0153 0A       		.byte	0xa
 512 0154 06       		.byte	0x6
 513 0155 A101     		.2byte	0x1a1
 514 0157 AA010000 		.4byte	0x1aa
 515 015b 0A       		.uleb128 0xa
 516 015c 72617700 		.ascii	"raw\000"
 517 0160 06       		.byte	0x6
 518 0161 A601     		.2byte	0x1a6
 519 0163 42010000 		.4byte	0x142
 520 0167 00       		.byte	0
 521 0168 0B       		.uleb128 0xb
 522 0169 A3030000 		.4byte	.LASF28
 523 016d 06       		.byte	0x6
 524 016e AB01     		.2byte	0x1ab
 525 0170 42010000 		.4byte	0x142
 526 0174 02       		.byte	0x2
 527 0175 0B       		.uleb128 0xb
 528 0176 F4000000 		.4byte	.LASF29
 529 017a 06       		.byte	0x6
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 43


 530 017b B101     		.2byte	0x1b1
 531 017d 32010000 		.4byte	0x132
 532 0181 04       		.byte	0x4
 533 0182 0B       		.uleb128 0xb
 534 0183 C3010000 		.4byte	.LASF30
 535 0187 06       		.byte	0x6
 536 0188 B601     		.2byte	0x1b6
 537 018a 16010000 		.4byte	0x116
 538 018e 06       		.byte	0x6
 539 018f 0B       		.uleb128 0xb
 540 0190 A6010000 		.4byte	.LASF31
 541 0194 06       		.byte	0x6
 542 0195 BB01     		.2byte	0x1bb
 543 0197 AA010000 		.4byte	0x1aa
 544 019b 08       		.byte	0x8
 545 019c 0B       		.uleb128 0xb
 546 019d 3D000000 		.4byte	.LASF32
 547 01a1 06       		.byte	0x6
 548 01a2 C101     		.2byte	0x1c1
 549 01a4 32010000 		.4byte	0x132
 550 01a8 09       		.byte	0x9
 551 01a9 00       		.byte	0
 552 01aa 07       		.uleb128 0x7
 553 01ab 21010000 		.4byte	0x121
 554 01af BA010000 		.4byte	0x1ba
 555 01b3 08       		.uleb128 0x8
 556 01b4 9E000000 		.4byte	0x9e
 557 01b8 00       		.byte	0
 558 01b9 00       		.byte	0
 559 01ba 05       		.uleb128 0x5
 560 01bb D6010000 		.4byte	.LASF33
 561 01bf 06       		.byte	0x6
 562 01c0 C201     		.2byte	0x1c2
 563 01c2 52010000 		.4byte	0x152
 564 01c6 06       		.uleb128 0x6
 565 01c7 04       		.byte	0x4
 566 01c8 BA010000 		.4byte	0x1ba
 567 01cc 09       		.uleb128 0x9
 568 01cd 02       		.byte	0x2
 569 01ce 06       		.byte	0x6
 570 01cf 7503     		.2byte	0x375
 571 01d1 E3010000 		.4byte	0x1e3
 572 01d5 0B       		.uleb128 0xb
 573 01d6 2F030000 		.4byte	.LASF34
 574 01da 06       		.byte	0x6
 575 01db 8503     		.2byte	0x385
 576 01dd F2000000 		.4byte	0xf2
 577 01e1 00       		.byte	0
 578 01e2 00       		.byte	0
 579 01e3 05       		.uleb128 0x5
 580 01e4 59000000 		.4byte	.LASF35
 581 01e8 06       		.byte	0x6
 582 01e9 8F03     		.2byte	0x38f
 583 01eb CC010000 		.4byte	0x1cc
 584 01ef 0C       		.uleb128 0xc
 585 01f0 89030000 		.4byte	.LASF42
 586 01f4 01       		.byte	0x1
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 44


 587 01f5 4801     		.2byte	0x148
 588 01f7 FE000000 		.4byte	0xfe
 589 01fb 00000000 		.4byte	.LFB125
 590 01ff D8000000 		.4byte	.LFE125-.LFB125
 591 0203 01       		.uleb128 0x1
 592 0204 9C       		.byte	0x9c
 593 0205 76020000 		.4byte	0x276
 594 0209 0D       		.uleb128 0xd
 595 020a 2C020000 		.4byte	.LASF36
 596 020e 01       		.byte	0x1
 597 020f 4801     		.2byte	0x148
 598 0211 C6010000 		.4byte	0x1c6
 599 0215 00000000 		.4byte	.LLST0
 600 0219 0E       		.uleb128 0xe
 601 021a 84000000 		.4byte	.LASF37
 602 021e 01       		.byte	0x1
 603 021f 4801     		.2byte	0x148
 604 0221 FE000000 		.4byte	0xfe
 605 0225 01       		.uleb128 0x1
 606 0226 51       		.byte	0x51
 607 0227 0D       		.uleb128 0xd
 608 0228 EE010000 		.4byte	.LASF38
 609 022c 01       		.byte	0x1
 610 022d 4901     		.2byte	0x149
 611 022f FE000000 		.4byte	0xfe
 612 0233 21000000 		.4byte	.LLST1
 613 0237 0F       		.uleb128 0xf
 614 0238 6900     		.ascii	"i\000"
 615 023a 01       		.byte	0x1
 616 023b 4B01     		.2byte	0x14b
 617 023d FE000000 		.4byte	0xfe
 618 0241 5B000000 		.4byte	.LLST2
 619 0245 10       		.uleb128 0x10
 620 0246 46030000 		.4byte	.LASF39
 621 024a 01       		.byte	0x1
 622 024b 4C01     		.2byte	0x14c
 623 024d FE000000 		.4byte	0xfe
 624 0251 79000000 		.4byte	.LLST3
 625 0255 10       		.uleb128 0x10
 626 0256 49010000 		.4byte	.LASF40
 627 025a 01       		.byte	0x1
 628 025b 4F01     		.2byte	0x14f
 629 025d C6010000 		.4byte	0x1c6
 630 0261 98000000 		.4byte	.LLST4
 631 0265 10       		.uleb128 0x10
 632 0266 BF000000 		.4byte	.LASF41
 633 026a 01       		.byte	0x1
 634 026b 5001     		.2byte	0x150
 635 026d 16010000 		.4byte	0x116
 636 0271 C1000000 		.4byte	.LLST5
 637 0275 00       		.byte	0
 638 0276 0C       		.uleb128 0xc
 639 0277 17010000 		.4byte	.LASF43
 640 027b 01       		.byte	0x1
 641 027c 3702     		.2byte	0x237
 642 027e FE000000 		.4byte	0xfe
 643 0282 00000000 		.4byte	.LFB126
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 45


 644 0286 84000000 		.4byte	.LFE126-.LFB126
 645 028a 01       		.uleb128 0x1
 646 028b 9C       		.byte	0x9c
 647 028c F9020000 		.4byte	0x2f9
 648 0290 0D       		.uleb128 0xd
 649 0291 0E010000 		.4byte	.LASF44
 650 0295 01       		.byte	0x1
 651 0296 3702     		.2byte	0x237
 652 0298 2C010000 		.4byte	0x12c
 653 029c 01010000 		.4byte	.LLST6
 654 02a0 0E       		.uleb128 0xe
 655 02a1 D7000000 		.4byte	.LASF45
 656 02a5 01       		.byte	0x1
 657 02a6 3702     		.2byte	0x237
 658 02a8 FE000000 		.4byte	0xfe
 659 02ac 01       		.uleb128 0x1
 660 02ad 51       		.byte	0x51
 661 02ae 0E       		.uleb128 0xe
 662 02af 84000000 		.4byte	.LASF37
 663 02b3 01       		.byte	0x1
 664 02b4 3702     		.2byte	0x237
 665 02b6 FE000000 		.4byte	0xfe
 666 02ba 01       		.uleb128 0x1
 667 02bb 52       		.byte	0x52
 668 02bc 0E       		.uleb128 0xe
 669 02bd 33020000 		.4byte	.LASF46
 670 02c1 01       		.byte	0x1
 671 02c2 3702     		.2byte	0x237
 672 02c4 FE000000 		.4byte	0xfe
 673 02c8 01       		.uleb128 0x1
 674 02c9 53       		.byte	0x53
 675 02ca 10       		.uleb128 0x10
 676 02cb 0E030000 		.4byte	.LASF47
 677 02cf 01       		.byte	0x1
 678 02d0 3902     		.2byte	0x239
 679 02d2 0A010000 		.4byte	0x10a
 680 02d6 22010000 		.4byte	.LLST7
 681 02da 10       		.uleb128 0x10
 682 02db C3030000 		.4byte	.LASF48
 683 02df 01       		.byte	0x1
 684 02e0 3A02     		.2byte	0x23a
 685 02e2 0A010000 		.4byte	0x10a
 686 02e6 35010000 		.4byte	.LLST8
 687 02ea 0F       		.uleb128 0xf
 688 02eb 6900     		.ascii	"i\000"
 689 02ed 01       		.byte	0x1
 690 02ee 3B02     		.2byte	0x23b
 691 02f0 FE000000 		.4byte	0xfe
 692 02f4 82010000 		.4byte	.LLST9
 693 02f8 00       		.byte	0
 694 02f9 11       		.uleb128 0x11
 695 02fa 83010000 		.4byte	.LASF57
 696 02fe 01       		.byte	0x1
 697 02ff 2A07     		.2byte	0x72a
 698 0301 00000000 		.4byte	.LFB127
 699 0305 06000000 		.4byte	.LFE127-.LFB127
 700 0309 01       		.uleb128 0x1
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 46


 701 030a 9C       		.byte	0x9c
 702 030b 2C030000 		.4byte	0x32c
 703 030f 0E       		.uleb128 0xe
 704 0310 22000000 		.4byte	.LASF49
 705 0314 01       		.byte	0x1
 706 0315 2A07     		.2byte	0x72a
 707 0317 2C030000 		.4byte	0x32c
 708 031b 01       		.uleb128 0x1
 709 031c 50       		.byte	0x50
 710 031d 0E       		.uleb128 0xe
 711 031e 2D000000 		.4byte	.LASF50
 712 0322 01       		.byte	0x1
 713 0323 2A07     		.2byte	0x72a
 714 0325 F2000000 		.4byte	0xf2
 715 0329 01       		.uleb128 0x1
 716 032a 51       		.byte	0x51
 717 032b 00       		.byte	0
 718 032c 06       		.uleb128 0x6
 719 032d 04       		.byte	0x4
 720 032e E3010000 		.4byte	0x1e3
 721 0332 12       		.uleb128 0x12
 722 0333 9D010000 		.4byte	.LASF51
 723 0337 01       		.byte	0x1
 724 0338 54       		.byte	0x54
 725 0339 32010000 		.4byte	0x132
 726 033d 05       		.uleb128 0x5
 727 033e 03       		.byte	0x3
 728 033f 04000000 		.4byte	localMax
 729 0343 07       		.uleb128 0x7
 730 0344 16010000 		.4byte	0x116
 731 0348 59030000 		.4byte	0x359
 732 034c 08       		.uleb128 0x8
 733 034d 9E000000 		.4byte	0x9e
 734 0351 00       		.byte	0
 735 0352 08       		.uleb128 0x8
 736 0353 9E000000 		.4byte	0x9e
 737 0357 02       		.byte	0x2
 738 0358 00       		.byte	0
 739 0359 12       		.uleb128 0x12
 740 035a 74010000 		.4byte	.LASF52
 741 035e 01       		.byte	0x1
 742 035f 55       		.byte	0x55
 743 0360 43030000 		.4byte	0x343
 744 0364 05       		.uleb128 0x5
 745 0365 03       		.byte	0x3
 746 0366 08000000 		.4byte	localDiffArray
 747 036a 12       		.uleb128 0x12
 748 036b 3A020000 		.4byte	.LASF53
 749 036f 01       		.byte	0x1
 750 0370 56       		.byte	0x56
 751 0371 E6000000 		.4byte	0xe6
 752 0375 05       		.uleb128 0x5
 753 0376 03       		.byte	0x3
 754 0377 00000000 		.4byte	localMaxIndex
 755 037b 13       		.uleb128 0x13
 756 037c CA000000 		.4byte	.LASF58
 757 0380 07       		.byte	0x7
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 47


 758 0381 EA07     		.2byte	0x7ea
 759 0383 87030000 		.4byte	0x387
 760 0387 14       		.uleb128 0x14
 761 0388 C2000000 		.4byte	0xc2
 762 038c 00       		.byte	0
 763              		.section	.debug_abbrev,"",%progbits
 764              	.Ldebug_abbrev0:
 765 0000 01       		.uleb128 0x1
 766 0001 11       		.uleb128 0x11
 767 0002 01       		.byte	0x1
 768 0003 25       		.uleb128 0x25
 769 0004 0E       		.uleb128 0xe
 770 0005 13       		.uleb128 0x13
 771 0006 0B       		.uleb128 0xb
 772 0007 03       		.uleb128 0x3
 773 0008 0E       		.uleb128 0xe
 774 0009 1B       		.uleb128 0x1b
 775 000a 0E       		.uleb128 0xe
 776 000b 55       		.uleb128 0x55
 777 000c 17       		.uleb128 0x17
 778 000d 11       		.uleb128 0x11
 779 000e 01       		.uleb128 0x1
 780 000f 10       		.uleb128 0x10
 781 0010 17       		.uleb128 0x17
 782 0011 00       		.byte	0
 783 0012 00       		.byte	0
 784 0013 02       		.uleb128 0x2
 785 0014 24       		.uleb128 0x24
 786 0015 00       		.byte	0
 787 0016 0B       		.uleb128 0xb
 788 0017 0B       		.uleb128 0xb
 789 0018 3E       		.uleb128 0x3e
 790 0019 0B       		.uleb128 0xb
 791 001a 03       		.uleb128 0x3
 792 001b 08       		.uleb128 0x8
 793 001c 00       		.byte	0
 794 001d 00       		.byte	0
 795 001e 03       		.uleb128 0x3
 796 001f 24       		.uleb128 0x24
 797 0020 00       		.byte	0
 798 0021 0B       		.uleb128 0xb
 799 0022 0B       		.uleb128 0xb
 800 0023 3E       		.uleb128 0x3e
 801 0024 0B       		.uleb128 0xb
 802 0025 03       		.uleb128 0x3
 803 0026 0E       		.uleb128 0xe
 804 0027 00       		.byte	0
 805 0028 00       		.byte	0
 806 0029 04       		.uleb128 0x4
 807 002a 16       		.uleb128 0x16
 808 002b 00       		.byte	0
 809 002c 03       		.uleb128 0x3
 810 002d 0E       		.uleb128 0xe
 811 002e 3A       		.uleb128 0x3a
 812 002f 0B       		.uleb128 0xb
 813 0030 3B       		.uleb128 0x3b
 814 0031 0B       		.uleb128 0xb
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 48


 815 0032 49       		.uleb128 0x49
 816 0033 13       		.uleb128 0x13
 817 0034 00       		.byte	0
 818 0035 00       		.byte	0
 819 0036 05       		.uleb128 0x5
 820 0037 16       		.uleb128 0x16
 821 0038 00       		.byte	0
 822 0039 03       		.uleb128 0x3
 823 003a 0E       		.uleb128 0xe
 824 003b 3A       		.uleb128 0x3a
 825 003c 0B       		.uleb128 0xb
 826 003d 3B       		.uleb128 0x3b
 827 003e 05       		.uleb128 0x5
 828 003f 49       		.uleb128 0x49
 829 0040 13       		.uleb128 0x13
 830 0041 00       		.byte	0
 831 0042 00       		.byte	0
 832 0043 06       		.uleb128 0x6
 833 0044 0F       		.uleb128 0xf
 834 0045 00       		.byte	0
 835 0046 0B       		.uleb128 0xb
 836 0047 0B       		.uleb128 0xb
 837 0048 49       		.uleb128 0x49
 838 0049 13       		.uleb128 0x13
 839 004a 00       		.byte	0
 840 004b 00       		.byte	0
 841 004c 07       		.uleb128 0x7
 842 004d 01       		.uleb128 0x1
 843 004e 01       		.byte	0x1
 844 004f 49       		.uleb128 0x49
 845 0050 13       		.uleb128 0x13
 846 0051 01       		.uleb128 0x1
 847 0052 13       		.uleb128 0x13
 848 0053 00       		.byte	0
 849 0054 00       		.byte	0
 850 0055 08       		.uleb128 0x8
 851 0056 21       		.uleb128 0x21
 852 0057 00       		.byte	0
 853 0058 49       		.uleb128 0x49
 854 0059 13       		.uleb128 0x13
 855 005a 2F       		.uleb128 0x2f
 856 005b 0B       		.uleb128 0xb
 857 005c 00       		.byte	0
 858 005d 00       		.byte	0
 859 005e 09       		.uleb128 0x9
 860 005f 13       		.uleb128 0x13
 861 0060 01       		.byte	0x1
 862 0061 0B       		.uleb128 0xb
 863 0062 0B       		.uleb128 0xb
 864 0063 3A       		.uleb128 0x3a
 865 0064 0B       		.uleb128 0xb
 866 0065 3B       		.uleb128 0x3b
 867 0066 05       		.uleb128 0x5
 868 0067 01       		.uleb128 0x1
 869 0068 13       		.uleb128 0x13
 870 0069 00       		.byte	0
 871 006a 00       		.byte	0
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 49


 872 006b 0A       		.uleb128 0xa
 873 006c 0D       		.uleb128 0xd
 874 006d 00       		.byte	0
 875 006e 03       		.uleb128 0x3
 876 006f 08       		.uleb128 0x8
 877 0070 3A       		.uleb128 0x3a
 878 0071 0B       		.uleb128 0xb
 879 0072 3B       		.uleb128 0x3b
 880 0073 05       		.uleb128 0x5
 881 0074 49       		.uleb128 0x49
 882 0075 13       		.uleb128 0x13
 883 0076 38       		.uleb128 0x38
 884 0077 0B       		.uleb128 0xb
 885 0078 00       		.byte	0
 886 0079 00       		.byte	0
 887 007a 0B       		.uleb128 0xb
 888 007b 0D       		.uleb128 0xd
 889 007c 00       		.byte	0
 890 007d 03       		.uleb128 0x3
 891 007e 0E       		.uleb128 0xe
 892 007f 3A       		.uleb128 0x3a
 893 0080 0B       		.uleb128 0xb
 894 0081 3B       		.uleb128 0x3b
 895 0082 05       		.uleb128 0x5
 896 0083 49       		.uleb128 0x49
 897 0084 13       		.uleb128 0x13
 898 0085 38       		.uleb128 0x38
 899 0086 0B       		.uleb128 0xb
 900 0087 00       		.byte	0
 901 0088 00       		.byte	0
 902 0089 0C       		.uleb128 0xc
 903 008a 2E       		.uleb128 0x2e
 904 008b 01       		.byte	0x1
 905 008c 3F       		.uleb128 0x3f
 906 008d 19       		.uleb128 0x19
 907 008e 03       		.uleb128 0x3
 908 008f 0E       		.uleb128 0xe
 909 0090 3A       		.uleb128 0x3a
 910 0091 0B       		.uleb128 0xb
 911 0092 3B       		.uleb128 0x3b
 912 0093 05       		.uleb128 0x5
 913 0094 27       		.uleb128 0x27
 914 0095 19       		.uleb128 0x19
 915 0096 49       		.uleb128 0x49
 916 0097 13       		.uleb128 0x13
 917 0098 11       		.uleb128 0x11
 918 0099 01       		.uleb128 0x1
 919 009a 12       		.uleb128 0x12
 920 009b 06       		.uleb128 0x6
 921 009c 40       		.uleb128 0x40
 922 009d 18       		.uleb128 0x18
 923 009e 9742     		.uleb128 0x2117
 924 00a0 19       		.uleb128 0x19
 925 00a1 01       		.uleb128 0x1
 926 00a2 13       		.uleb128 0x13
 927 00a3 00       		.byte	0
 928 00a4 00       		.byte	0
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 50


 929 00a5 0D       		.uleb128 0xd
 930 00a6 05       		.uleb128 0x5
 931 00a7 00       		.byte	0
 932 00a8 03       		.uleb128 0x3
 933 00a9 0E       		.uleb128 0xe
 934 00aa 3A       		.uleb128 0x3a
 935 00ab 0B       		.uleb128 0xb
 936 00ac 3B       		.uleb128 0x3b
 937 00ad 05       		.uleb128 0x5
 938 00ae 49       		.uleb128 0x49
 939 00af 13       		.uleb128 0x13
 940 00b0 02       		.uleb128 0x2
 941 00b1 17       		.uleb128 0x17
 942 00b2 00       		.byte	0
 943 00b3 00       		.byte	0
 944 00b4 0E       		.uleb128 0xe
 945 00b5 05       		.uleb128 0x5
 946 00b6 00       		.byte	0
 947 00b7 03       		.uleb128 0x3
 948 00b8 0E       		.uleb128 0xe
 949 00b9 3A       		.uleb128 0x3a
 950 00ba 0B       		.uleb128 0xb
 951 00bb 3B       		.uleb128 0x3b
 952 00bc 05       		.uleb128 0x5
 953 00bd 49       		.uleb128 0x49
 954 00be 13       		.uleb128 0x13
 955 00bf 02       		.uleb128 0x2
 956 00c0 18       		.uleb128 0x18
 957 00c1 00       		.byte	0
 958 00c2 00       		.byte	0
 959 00c3 0F       		.uleb128 0xf
 960 00c4 34       		.uleb128 0x34
 961 00c5 00       		.byte	0
 962 00c6 03       		.uleb128 0x3
 963 00c7 08       		.uleb128 0x8
 964 00c8 3A       		.uleb128 0x3a
 965 00c9 0B       		.uleb128 0xb
 966 00ca 3B       		.uleb128 0x3b
 967 00cb 05       		.uleb128 0x5
 968 00cc 49       		.uleb128 0x49
 969 00cd 13       		.uleb128 0x13
 970 00ce 02       		.uleb128 0x2
 971 00cf 17       		.uleb128 0x17
 972 00d0 00       		.byte	0
 973 00d1 00       		.byte	0
 974 00d2 10       		.uleb128 0x10
 975 00d3 34       		.uleb128 0x34
 976 00d4 00       		.byte	0
 977 00d5 03       		.uleb128 0x3
 978 00d6 0E       		.uleb128 0xe
 979 00d7 3A       		.uleb128 0x3a
 980 00d8 0B       		.uleb128 0xb
 981 00d9 3B       		.uleb128 0x3b
 982 00da 05       		.uleb128 0x5
 983 00db 49       		.uleb128 0x49
 984 00dc 13       		.uleb128 0x13
 985 00dd 02       		.uleb128 0x2
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 51


 986 00de 17       		.uleb128 0x17
 987 00df 00       		.byte	0
 988 00e0 00       		.byte	0
 989 00e1 11       		.uleb128 0x11
 990 00e2 2E       		.uleb128 0x2e
 991 00e3 01       		.byte	0x1
 992 00e4 3F       		.uleb128 0x3f
 993 00e5 19       		.uleb128 0x19
 994 00e6 03       		.uleb128 0x3
 995 00e7 0E       		.uleb128 0xe
 996 00e8 3A       		.uleb128 0x3a
 997 00e9 0B       		.uleb128 0xb
 998 00ea 3B       		.uleb128 0x3b
 999 00eb 05       		.uleb128 0x5
 1000 00ec 27       		.uleb128 0x27
 1001 00ed 19       		.uleb128 0x19
 1002 00ee 11       		.uleb128 0x11
 1003 00ef 01       		.uleb128 0x1
 1004 00f0 12       		.uleb128 0x12
 1005 00f1 06       		.uleb128 0x6
 1006 00f2 40       		.uleb128 0x40
 1007 00f3 18       		.uleb128 0x18
 1008 00f4 9742     		.uleb128 0x2117
 1009 00f6 19       		.uleb128 0x19
 1010 00f7 01       		.uleb128 0x1
 1011 00f8 13       		.uleb128 0x13
 1012 00f9 00       		.byte	0
 1013 00fa 00       		.byte	0
 1014 00fb 12       		.uleb128 0x12
 1015 00fc 34       		.uleb128 0x34
 1016 00fd 00       		.byte	0
 1017 00fe 03       		.uleb128 0x3
 1018 00ff 0E       		.uleb128 0xe
 1019 0100 3A       		.uleb128 0x3a
 1020 0101 0B       		.uleb128 0xb
 1021 0102 3B       		.uleb128 0x3b
 1022 0103 0B       		.uleb128 0xb
 1023 0104 49       		.uleb128 0x49
 1024 0105 13       		.uleb128 0x13
 1025 0106 02       		.uleb128 0x2
 1026 0107 18       		.uleb128 0x18
 1027 0108 00       		.byte	0
 1028 0109 00       		.byte	0
 1029 010a 13       		.uleb128 0x13
 1030 010b 34       		.uleb128 0x34
 1031 010c 00       		.byte	0
 1032 010d 03       		.uleb128 0x3
 1033 010e 0E       		.uleb128 0xe
 1034 010f 3A       		.uleb128 0x3a
 1035 0110 0B       		.uleb128 0xb
 1036 0111 3B       		.uleb128 0x3b
 1037 0112 05       		.uleb128 0x5
 1038 0113 49       		.uleb128 0x49
 1039 0114 13       		.uleb128 0x13
 1040 0115 3F       		.uleb128 0x3f
 1041 0116 19       		.uleb128 0x19
 1042 0117 3C       		.uleb128 0x3c
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 52


 1043 0118 19       		.uleb128 0x19
 1044 0119 00       		.byte	0
 1045 011a 00       		.byte	0
 1046 011b 14       		.uleb128 0x14
 1047 011c 35       		.uleb128 0x35
 1048 011d 00       		.byte	0
 1049 011e 49       		.uleb128 0x49
 1050 011f 13       		.uleb128 0x13
 1051 0120 00       		.byte	0
 1052 0121 00       		.byte	0
 1053 0122 00       		.byte	0
 1054              		.section	.debug_loc,"",%progbits
 1055              	.Ldebug_loc0:
 1056              	.LLST0:
 1057 0000 00000000 		.4byte	.LVL0
 1058 0004 D0000000 		.4byte	.LVL15
 1059 0008 0100     		.2byte	0x1
 1060 000a 50       		.byte	0x50
 1061 000b D0000000 		.4byte	.LVL15
 1062 000f D8000000 		.4byte	.LFE125
 1063 0013 0400     		.2byte	0x4
 1064 0015 F3       		.byte	0xf3
 1065 0016 01       		.uleb128 0x1
 1066 0017 50       		.byte	0x50
 1067 0018 9F       		.byte	0x9f
 1068 0019 00000000 		.4byte	0
 1069 001d 00000000 		.4byte	0
 1070              	.LLST1:
 1071 0021 00000000 		.4byte	.LVL0
 1072 0025 34000000 		.4byte	.LVL10
 1073 0029 0100     		.2byte	0x1
 1074 002b 52       		.byte	0x52
 1075 002c 34000000 		.4byte	.LVL10
 1076 0030 C2000000 		.4byte	.LVL12
 1077 0034 0400     		.2byte	0x4
 1078 0036 F3       		.byte	0xf3
 1079 0037 01       		.uleb128 0x1
 1080 0038 52       		.byte	0x52
 1081 0039 9F       		.byte	0x9f
 1082 003a C2000000 		.4byte	.LVL12
 1083 003e C4000000 		.4byte	.LVL13
 1084 0042 0100     		.2byte	0x1
 1085 0044 52       		.byte	0x52
 1086 0045 C4000000 		.4byte	.LVL13
 1087 0049 D8000000 		.4byte	.LFE125
 1088 004d 0400     		.2byte	0x4
 1089 004f F3       		.byte	0xf3
 1090 0050 01       		.uleb128 0x1
 1091 0051 52       		.byte	0x52
 1092 0052 9F       		.byte	0x9f
 1093 0053 00000000 		.4byte	0
 1094 0057 00000000 		.4byte	0
 1095              	.LLST2:
 1096 005b 34000000 		.4byte	.LVL10
 1097 005f C2000000 		.4byte	.LVL12
 1098 0063 0100     		.2byte	0x1
 1099 0065 52       		.byte	0x52
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 53


 1100 0066 C4000000 		.4byte	.LVL13
 1101 006a CC000000 		.4byte	.LVL14
 1102 006e 0100     		.2byte	0x1
 1103 0070 52       		.byte	0x52
 1104 0071 00000000 		.4byte	0
 1105 0075 00000000 		.4byte	0
 1106              	.LLST3:
 1107 0079 08000000 		.4byte	.LVL2
 1108 007d 0E000000 		.4byte	.LVL3
 1109 0081 0200     		.2byte	0x2
 1110 0083 30       		.byte	0x30
 1111 0084 9F       		.byte	0x9f
 1112 0085 0E000000 		.4byte	.LVL3
 1113 0089 2C000000 		.4byte	.LVL9
 1114 008d 0100     		.2byte	0x1
 1115 008f 53       		.byte	0x53
 1116 0090 00000000 		.4byte	0
 1117 0094 00000000 		.4byte	0
 1118              	.LLST4:
 1119 0098 02000000 		.4byte	.LVL1
 1120 009c 0E000000 		.4byte	.LVL3
 1121 00a0 0100     		.2byte	0x1
 1122 00a2 50       		.byte	0x50
 1123 00a3 0E000000 		.4byte	.LVL3
 1124 00a7 34000000 		.4byte	.LVL10
 1125 00ab 0100     		.2byte	0x1
 1126 00ad 54       		.byte	0x54
 1127 00ae C2000000 		.4byte	.LVL12
 1128 00b2 C4000000 		.4byte	.LVL13
 1129 00b6 0100     		.2byte	0x1
 1130 00b8 54       		.byte	0x54
 1131 00b9 00000000 		.4byte	0
 1132 00bd 00000000 		.4byte	0
 1133              	.LLST5:
 1134 00c1 02000000 		.4byte	.LVL1
 1135 00c5 0E000000 		.4byte	.LVL3
 1136 00c9 0200     		.2byte	0x2
 1137 00cb 30       		.byte	0x30
 1138 00cc 9F       		.byte	0x9f
 1139 00cd 0E000000 		.4byte	.LVL3
 1140 00d1 1A000000 		.4byte	.LVL4
 1141 00d5 0100     		.2byte	0x1
 1142 00d7 56       		.byte	0x56
 1143 00d8 1C000000 		.4byte	.LVL5
 1144 00dc 22000000 		.4byte	.LVL6
 1145 00e0 0100     		.2byte	0x1
 1146 00e2 55       		.byte	0x55
 1147 00e3 22000000 		.4byte	.LVL6
 1148 00e7 34000000 		.4byte	.LVL10
 1149 00eb 0100     		.2byte	0x1
 1150 00ed 56       		.byte	0x56
 1151 00ee C2000000 		.4byte	.LVL12
 1152 00f2 C4000000 		.4byte	.LVL13
 1153 00f6 0100     		.2byte	0x1
 1154 00f8 56       		.byte	0x56
 1155 00f9 00000000 		.4byte	0
 1156 00fd 00000000 		.4byte	0
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 54


 1157              	.LLST6:
 1158 0101 00000000 		.4byte	.LVL16
 1159 0105 7A000000 		.4byte	.LVL26
 1160 0109 0100     		.2byte	0x1
 1161 010b 50       		.byte	0x50
 1162 010c 7A000000 		.4byte	.LVL26
 1163 0110 84000000 		.4byte	.LFE126
 1164 0114 0400     		.2byte	0x4
 1165 0116 F3       		.byte	0xf3
 1166 0117 01       		.uleb128 0x1
 1167 0118 50       		.byte	0x50
 1168 0119 9F       		.byte	0x9f
 1169 011a 00000000 		.4byte	0
 1170 011e 00000000 		.4byte	0
 1171              	.LLST7:
 1172 0122 4A000000 		.4byte	.LVL19
 1173 0126 70000000 		.4byte	.LVL25
 1174 012a 0100     		.2byte	0x1
 1175 012c 57       		.byte	0x57
 1176 012d 00000000 		.4byte	0
 1177 0131 00000000 		.4byte	0
 1178              	.LLST8:
 1179 0135 56000000 		.4byte	.LVL20
 1180 0139 64000000 		.4byte	.LVL21
 1181 013d 0100     		.2byte	0x1
 1182 013f 5E       		.byte	0x5e
 1183 0140 64000000 		.4byte	.LVL21
 1184 0144 66000000 		.4byte	.LVL22
 1185 0148 0100     		.2byte	0x1
 1186 014a 54       		.byte	0x54
 1187 014b 66000000 		.4byte	.LVL22
 1188 014f 6A000000 		.4byte	.LVL23
 1189 0153 0400     		.2byte	0x4
 1190 0155 74       		.byte	0x74
 1191 0156 817F     		.sleb128 -127
 1192 0158 9F       		.byte	0x9f
 1193 0159 6A000000 		.4byte	.LVL23
 1194 015d 6E000000 		.4byte	.LVL24
 1195 0161 1700     		.2byte	0x17
 1196 0163 75       		.byte	0x75
 1197 0164 00       		.sleb128 0
 1198 0165 03       		.byte	0x3
 1199 0166 04000000 		.4byte	.LANCHOR0+4
 1200 016a 22       		.byte	0x22
 1201 016b 94       		.byte	0x94
 1202 016c 01       		.byte	0x1
 1203 016d 08       		.byte	0x8
 1204 016e FF       		.byte	0xff
 1205 016f 1A       		.byte	0x1a
 1206 0170 71       		.byte	0x71
 1207 0171 00       		.sleb128 0
 1208 0172 1E       		.byte	0x1e
 1209 0173 73       		.byte	0x73
 1210 0174 00       		.sleb128 0
 1211 0175 22       		.byte	0x22
 1212 0176 76       		.byte	0x76
 1213 0177 00       		.sleb128 0
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 55


 1214 0178 22       		.byte	0x22
 1215 0179 9F       		.byte	0x9f
 1216 017a 00000000 		.4byte	0
 1217 017e 00000000 		.4byte	0
 1218              	.LLST9:
 1219 0182 04000000 		.4byte	.LVL17
 1220 0186 08000000 		.4byte	.LVL18
 1221 018a 0200     		.2byte	0x2
 1222 018c 30       		.byte	0x30
 1223 018d 9F       		.byte	0x9f
 1224 018e 08000000 		.4byte	.LVL18
 1225 0192 7E000000 		.4byte	.LVL27
 1226 0196 0100     		.2byte	0x1
 1227 0198 55       		.byte	0x55
 1228 0199 00000000 		.4byte	0
 1229 019d 00000000 		.4byte	0
 1230              		.section	.debug_aranges,"",%progbits
 1231 0000 2C000000 		.4byte	0x2c
 1232 0004 0200     		.2byte	0x2
 1233 0006 00000000 		.4byte	.Ldebug_info0
 1234 000a 04       		.byte	0x4
 1235 000b 00       		.byte	0
 1236 000c 0000     		.2byte	0
 1237 000e 0000     		.2byte	0
 1238 0010 00000000 		.4byte	.LFB125
 1239 0014 D8000000 		.4byte	.LFE125-.LFB125
 1240 0018 00000000 		.4byte	.LFB126
 1241 001c 84000000 		.4byte	.LFE126-.LFB126
 1242 0020 00000000 		.4byte	.LFB127
 1243 0024 06000000 		.4byte	.LFE127-.LFB127
 1244 0028 00000000 		.4byte	0
 1245 002c 00000000 		.4byte	0
 1246              		.section	.debug_ranges,"",%progbits
 1247              	.Ldebug_ranges0:
 1248 0000 00000000 		.4byte	.LFB125
 1249 0004 D8000000 		.4byte	.LFE125
 1250 0008 00000000 		.4byte	.LFB126
 1251 000c 84000000 		.4byte	.LFE126
 1252 0010 00000000 		.4byte	.LFB127
 1253 0014 06000000 		.4byte	.LFE127
 1254 0018 00000000 		.4byte	0
 1255 001c 00000000 		.4byte	0
 1256              		.section	.debug_line,"",%progbits
 1257              	.Ldebug_line0:
 1258 0000 AE020000 		.section	.debug_str,"MS",%progbits,1
 1258      0200F001 
 1258      00000201 
 1258      FB0E0D00 
 1258      01010101 
 1259              	.LASF26:
 1260 0000 43617053 		.ascii	"CapSense_THRESHOLD_TYPE\000"
 1260      656E7365 
 1260      5F544852 
 1260      4553484F 
 1260      4C445F54 
 1261              	.LASF6:
 1262 0018 5F5F7569 		.ascii	"__uint8_t\000"
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 56


 1262      6E74385F 
 1262      7400
 1263              	.LASF49:
 1264 0022 70747248 		.ascii	"ptrHistory\000"
 1264      6973746F 
 1264      727900
 1265              	.LASF50:
 1266 002d 76616C75 		.ascii	"value\000"
 1266      6500
 1267              	.LASF9:
 1268 0033 5F5F696E 		.ascii	"__int32_t\000"
 1268      7433325F 
 1268      7400
 1269              	.LASF32:
 1270 003d 69646163 		.ascii	"idacComp\000"
 1270      436F6D70 
 1270      00
 1271              	.LASF8:
 1272 0046 73686F72 		.ascii	"short unsigned int\000"
 1272      7420756E 
 1272      7369676E 
 1272      65642069 
 1272      6E7400
 1273              	.LASF35:
 1274 0059 43617053 		.ascii	"CapSense_SLIDER_POS_HISTORY_STRUCT\000"
 1274      656E7365 
 1274      5F534C49 
 1274      4445525F 
 1274      504F535F 
 1275              	.LASF18:
 1276 007c 696E7433 		.ascii	"int32_t\000"
 1276      325F7400 
 1277              	.LASF37:
 1278 0084 736E7343 		.ascii	"snsCount\000"
 1278      6F756E74 
 1278      00
 1279              	.LASF20:
 1280 008d 666C6F61 		.ascii	"float\000"
 1280      7400
 1281              	.LASF3:
 1282 0093 7369676E 		.ascii	"signed char\000"
 1282      65642063 
 1282      68617200 
 1283              	.LASF4:
 1284 009f 756E7369 		.ascii	"unsigned char\000"
 1284      676E6564 
 1284      20636861 
 1284      7200
 1285              	.LASF12:
 1286 00ad 6C6F6E67 		.ascii	"long unsigned int\000"
 1286      20756E73 
 1286      69676E65 
 1286      6420696E 
 1286      7400
 1287              	.LASF41:
 1288 00bf 74656D70 		.ascii	"temp\000"
 1288      00
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 57


 1289              	.LASF22:
 1290 00c4 75696E74 		.ascii	"uint8\000"
 1290      3800
 1291              	.LASF58:
 1292 00ca 49544D5F 		.ascii	"ITM_RxBuffer\000"
 1292      52784275 
 1292      66666572 
 1292      00
 1293              	.LASF45:
 1294 00d7 6D756C74 		.ascii	"multiplier\000"
 1294      69706C69 
 1294      657200
 1295              	.LASF7:
 1296 00e2 5F5F7569 		.ascii	"__uint16_t\000"
 1296      6E743136 
 1296      5F7400
 1297              	.LASF21:
 1298 00ed 646F7562 		.ascii	"double\000"
 1298      6C6500
 1299              	.LASF29:
 1300 00f4 62736C6E 		.ascii	"bslnExt\000"
 1300      45787400 
 1301              	.LASF11:
 1302 00fc 5F5F7569 		.ascii	"__uint32_t\000"
 1302      6E743332 
 1302      5F7400
 1303              	.LASF23:
 1304 0107 75696E74 		.ascii	"uint16\000"
 1304      313600
 1305              	.LASF44:
 1306 010e 706F7369 		.ascii	"position\000"
 1306      74696F6E 
 1306      00
 1307              	.LASF43:
 1308 0117 43617053 		.ascii	"CapSense_DpCalcLinearCentroid\000"
 1308      656E7365 
 1308      5F447043 
 1308      616C634C 
 1308      696E6561 
 1309              	.LASF24:
 1310 0135 75696E74 		.ascii	"uint32\000"
 1310      333200
 1311              	.LASF0:
 1312 013c 756E7369 		.ascii	"unsigned int\000"
 1312      676E6564 
 1312      20696E74 
 1312      00
 1313              	.LASF40:
 1314 0149 6C6F6361 		.ascii	"localPtrSns\000"
 1314      6C507472 
 1314      536E7300 
 1315              	.LASF13:
 1316 0155 6C6F6E67 		.ascii	"long long unsigned int\000"
 1316      206C6F6E 
 1316      6720756E 
 1316      7369676E 
 1316      65642069 
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 58


 1317              	.LASF16:
 1318 016c 75696E74 		.ascii	"uint8_t\000"
 1318      385F7400 
 1319              	.LASF52:
 1320 0174 6C6F6361 		.ascii	"localDiffArray\000"
 1320      6C446966 
 1320      66417272 
 1320      617900
 1321              	.LASF57:
 1322 0183 43617053 		.ascii	"CapSense_InitPosFiltersSd\000"
 1322      656E7365 
 1322      5F496E69 
 1322      74506F73 
 1322      46696C74 
 1323              	.LASF51:
 1324 019d 6C6F6361 		.ascii	"localMax\000"
 1324      6C4D6178 
 1324      00
 1325              	.LASF31:
 1326 01a6 6E656742 		.ascii	"negBslnRstCnt\000"
 1326      736C6E52 
 1326      7374436E 
 1326      7400
 1327              	.LASF25:
 1328 01b4 696E7433 		.ascii	"int32\000"
 1328      3200
 1329              	.LASF14:
 1330 01ba 73697A65 		.ascii	"sizetype\000"
 1330      74797065 
 1330      00
 1331              	.LASF30:
 1332 01c3 64696666 		.ascii	"diff\000"
 1332      00
 1333              	.LASF1:
 1334 01c8 6C6F6E67 		.ascii	"long long int\000"
 1334      206C6F6E 
 1334      6720696E 
 1334      7400
 1335              	.LASF33:
 1336 01d6 43617053 		.ascii	"CapSense_RAM_SNS_STRUCT\000"
 1336      656E7365 
 1336      5F52414D 
 1336      5F534E53 
 1336      5F535452 
 1337              	.LASF38:
 1338 01ee 66696E67 		.ascii	"fingerThreshold\000"
 1338      65725468 
 1338      72657368 
 1338      6F6C6400 
 1339              	.LASF55:
 1340 01fe 47656E65 		.ascii	"Generated_Source\\PSoC6\\CapSense_Centroid_LL.c\000"
 1340      72617465 
 1340      645F536F 
 1340      75726365 
 1340      5C50536F 
 1341              	.LASF36:
 1342 022c 70747253 		.ascii	"ptrSns\000"
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 59


 1342      6E7300
 1343              	.LASF46:
 1344 0233 6F666673 		.ascii	"offset\000"
 1344      657400
 1345              	.LASF53:
 1346 023a 6C6F6361 		.ascii	"localMaxIndex\000"
 1346      6C4D6178 
 1346      496E6465 
 1346      7800
 1347              	.LASF5:
 1348 0248 73686F72 		.ascii	"short int\000"
 1348      7420696E 
 1348      7400
 1349              	.LASF17:
 1350 0252 75696E74 		.ascii	"uint16_t\000"
 1350      31365F74 
 1350      00
 1351              	.LASF54:
 1352 025b 474E5520 		.ascii	"GNU C11 5.4.1 20160609 (release) [ARM/embedded-5-br"
 1352      43313120 
 1352      352E342E 
 1352      31203230 
 1352      31363036 
 1353 028e 616E6368 		.ascii	"anch revision 237715] -mcpu=cortex-m4 -mfloat-abi=s"
 1353      20726576 
 1353      6973696F 
 1353      6E203233 
 1353      37373135 
 1354 02c1 6F667466 		.ascii	"oftfp -mfpu=fpv4-sp-d16 -mthumb -g -Og -ffunction-s"
 1354      70202D6D 
 1354      6670753D 
 1354      66707634 
 1354      2D73702D 
 1355 02f4 65637469 		.ascii	"ections -ffat-lto-objects\000"
 1355      6F6E7320 
 1355      2D666661 
 1355      742D6C74 
 1355      6F2D6F62 
 1356              	.LASF47:
 1357 030e 6E756D65 		.ascii	"numerator\000"
 1357      7261746F 
 1357      7200
 1358              	.LASF19:
 1359 0318 75696E74 		.ascii	"uint32_t\000"
 1359      33325F74 
 1359      00
 1360              	.LASF10:
 1361 0321 6C6F6E67 		.ascii	"long int\000"
 1361      20696E74 
 1361      00
 1362              	.LASF15:
 1363 032a 63686172 		.ascii	"char\000"
 1363      00
 1364              	.LASF34:
 1365 032f 706F7341 		.ascii	"posAverage\000"
 1365      76657261 
 1365      676500
ARM GAS  C:\Users\Agentos\AppData\Local\Temp\ccRB0OHG.s 			page 60


 1366              	.LASF2:
 1367 033a 6C6F6E67 		.ascii	"long double\000"
 1367      20646F75 
 1367      626C6500 
 1368              	.LASF39:
 1369 0346 73656E73 		.ascii	"sensorId\000"
 1369      6F724964 
 1369      00
 1370              	.LASF56:
 1371 034f 433A5C55 		.ascii	"C:\\Users\\Agentos\\Documents\\PSoC Creator\\lab11\\"
 1371      73657273 
 1371      5C416765 
 1371      6E746F73 
 1371      5C446F63 
 1372 037d 6C616231 		.ascii	"lab11.cydsn\000"
 1372      312E6379 
 1372      64736E00 
 1373              	.LASF42:
 1374 0389 43617053 		.ascii	"CapSense_DpFindLocalMaxSd\000"
 1374      656E7365 
 1374      5F447046 
 1374      696E644C 
 1374      6F63616C 
 1375              	.LASF28:
 1376 03a3 62736C6E 		.ascii	"bsln\000"
 1376      00
 1377              	.LASF27:
 1378 03a8 43617053 		.ascii	"CapSense_LOW_BSLN_RST_TYPE\000"
 1378      656E7365 
 1378      5F4C4F57 
 1378      5F42534C 
 1378      4E5F5253 
 1379              	.LASF48:
 1380 03c3 64656E6F 		.ascii	"denominator\000"
 1380      6D696E61 
 1380      746F7200 
 1381              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160609 (release) [ARM/embedded-5-bran
